webpackJsonp([7],{0:function(e,n,r){e.exports=r(176)},2:function(e,n){"use strict";n.__esModule=!0,n.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},3:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var a=r(23),o=t(a);n.default=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),(0,o.default)(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}()},18:function(e,n){},23:function(e,n,r){e.exports={default:r(25),__esModule:!0}},24:function(e,n,r){e.exports={default:r(46),__esModule:!0}},25:function(e,n,r){r(31);var t=r(4).Object;e.exports=function(e,n,r){return t.defineProperty(e,n,r)}},31:function(e,n,r){var t=r(9);t(t.S+t.F*!r(8),"Object",{defineProperty:r(11).f})},46:function(e,n,r){r(62),e.exports=r(4).Object.values},53:function(e,n,r){var t=r(8),a=r(17),o=r(13),i=r(22).f;e.exports=function(e){return function(n){for(var r,d=o(n),s=a(d),l=s.length,c=0,u=[];l>c;)r=s[c++],t&&!i.call(d,r)||u.push(e?[r,d[r]]:d[r]);return u}}},62:function(e,n,r){var t=r(9),a=r(53)(!1);t(t.S,"Object",{values:function(e){return a(e)}})},72:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),o=t(a),i=r(3),d=t(i);n.default=function(e){e.factory("ScheduleDashboardApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"assignProductionDates",value:function(n){return e.postData("schedule/dashboard/assign-production-dates",{assign_production_dates_for_month:e.formatDate(n)})}},{key:"changeOrderScheduleMonthPosition",value:function(n,r,t,a,o){return e.postData("schedule/dashboard/change-order-schedule-month-position",{view_month:e.formatDate(n),order_list:a,new_schedule_month:e.formatDate(r),new_position_month:t,orderList:o})}},{key:"changeOrderScheduleMonthPosition1",value:function(n,r,t,a,o){return e.postData("schedule/dashboard/change-order-schedule-unit-position",{view_month:e.formatDate(n),order_list:a,new_schedule_month:e.formatDate(r),new_position_month:t,production_unit:2})}},{key:"getInitialData",value:function(n){return e.getData("schedule/dashboard/initial/"+e.formatDate(n))}},{key:"getInitialData1",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getDealerInitialData",value:function(n){return e.getData("schedule/dashboard/dealer/"+e.formatDate(n))}},{key:"saveCommentOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-order",{order_id:n.id,schedule_comments:r})}},{key:"saveQCOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-transport-order",{order_id:n.id+"",qc_comments_from:r})}},{key:"saveWaterOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-water-order",{order_id:n.id+"",watertest_comments:r})}},{key:"saveDispatchOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-dispatch-order",{order_id:n.id+"",dispatch_comments:r})}},{key:"saveDealerCommentOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-order",{order_id:n.id,dealer_comments:r})}},{key:"saveLockdown",value:function(n,r){return e.postData("schedule/dashboard/update-lockdown",{lockdown_number:r,lockdown_month:n})}},{key:"updateNewPosition",value:function(n){return e.postData("schedule/dashboard/update-lockdown",{lockdown_number:number,lockdown_month:month})}},{key:"updateOrderPosition",value:function(e,n,r,t,a,o){}},{key:"bulkmoveorders",value:function(n,r,t){return e.postData("schedule/dashboard/bulk-update-newlogic",{view_month:e.formatDate(n),new_order_list:r,new_order_index:t})}},{key:"massFinalizeOrder",value:function(n,r){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(n),order_list:r})}},{key:"massFinalizeOrder",value:function(n,r){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(n),order_list:r})}}]),n}();return new n}])},e.exports=n.default},73:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),o=t(a),i=r(3),d=t(i);n.default=function(e){e.factory("ScheduleDashboardService",function(){var e=function(){function e(){(0,o.default)(this,e)}return(0,d.default)(e,[{key:"getSpecialFeatureClass",value:function(e){return"pending"==e.special_feature_status?"glyphicon-question-sign":"approved"==e.special_feature_status?"glyphicon-ok-sign":"rejected"==e.special_feature_status?"glyphicon-remove-sign":""}},{key:"isSameMonth",value:function(e,n){return e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()}},{key:"containsCaseInsensitive",value:function(e,n){return e.toLowerCase().indexOf(n.toLowerCase())!=-1}}]),e}();return new e})},e.exports=n.default},93:function(e,n){},133:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){r(137)(e),r(144)(e),r(136)(e),r(135)(e),r(141)(e),r(139)(e),e.controller("ScheduleController",function(){r(93),r(18)})},e.exports=n.default},134:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),o=t(a),i=r(3),d=t(i);n.default=function(e){e.factory("ScheduleCapacityApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"getInitialData",value:function(n){return e.getData("schedule/capacity/initial/"+e.formatDate(n))}},{key:"saveData",value:function(n){return e.postData("schedule/capacity/save",{weekList:n})}}]),n}();return new n}])},e.exports=n.default},135:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(19),o=t(a),i=r(1),d=t(i);n.default=function(e){r(134)(e),e.controller("ScheduleCapacityController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","$state","$stateParams","AppSettings","ScheduleCapacityApiService",function(e,n,r,t,a,i,s,l,c){a.initialDataLoading=!1,a.saveLoading=!1,a.currentMonth=s.currentMonth,n.putObject("scheduleCapacityCurrentMonth",s.currentMonth),a.monthList=[];var u=function(e){a.initialDataLoading=!0,c.getInitialData(e).then(function(e){if(a.weekList=e.week_list,t.permissions=e.permissions,0==a.monthList.length){var n=!0,o=!1,i=void 0;try{for(var s,c=(0,d.default)(e.month_list);!(n=(s=c.next()).done);n=!0){var u=s.value,g=new Date(Date.parse(u)),p=new Date(g);p.setMonth(p.getMonth()+5),a.monthList.push({title:r("date")(g,l.FORMAT_DATE_MONTH_SHORT_JS)+" - "+r("date")(p,l.FORMAT_DATE_MONTH_SHORT_JS),value:g}),h(a.currentMonth,g)&&(a.currentMonth=g)}}catch(e){o=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw i}}}var _=!0,f=!1,m=void 0;try{for(var b,y=function(){var e=b.value;a.$watch(function(){return e.days},function(n,r){e.total_capacity=n.reduce(function(e,n){return e+Number(n.capacity)},0)},!0)},v=(0,d.default)(a.weekList);!(_=(b=v.next()).done);_=!0)y()}catch(e){f=!0,m=e}finally{try{!_&&v.return&&v.return()}finally{if(f)throw m}}}).finally(function(){a.initialDataLoading=!1})};u(a.currentMonth),a.$watch("currentMonth",function(e,n){h(e,n)||i.go("schedule.capacity",{currentMonth:e},{reload:!0})}),a.duplicate=function(e){for(var n=0,r=a.weekList[n];r.start_label!=e.start_label&&n<a.weekList.length;)n++,r=a.weekList[n];if(n<a.weekList.length-1)for(var t=0;t<7;t++)a.weekList[n+1].days[t].capacity=a.weekList[n].days[t].capacity},a.save=function(){a.saveLoading=!0,c.saveData(a.weekList).then(function(e){a.successMessages=["Data saved successfully"],a.errorMessages=[]},function(e){var n=e.data.message||e.data;("undefined"==typeof n?"undefined":(0,o.default)(n))==(0,o.default)("")&&(n=[n]),a.errorMessages=n}).finally(function(){e("message-anchor"),a.saveLoading=!1})};var h=function(e,n){return e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()}}])},e.exports=n.default},136:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(1),o=t(a);n.default=function(e){r(72)(e),r(73)(e),e.controller("DealerScheduleDashboardController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleDashboardApiService","ScheduleDashboardService",function(e,n,t,a,i,d,s,l,c){if(r(93),r(18),a.permissions={},i.monthDataLoading=!1,i.searchStr="",i.monthList=[],i.isOrderDealerCommentSaving={},n.getObject("scheduleDashboardCurrentMonth")){i.currentMonth=new Date(Date.parse(n.getObject("scheduleDashboardCurrentMonth")));var u=s.now();i.currentMonth=new Date(u.getFullYear(),u.getMonth())}else{var h=s.now();i.currentMonth=new Date(h.getFullYear(),h.getMonth())}var g=function(e){i.monthDataLoading=!0,l.getDealerInitialData(e).then(function(e){if(i.orderList=e.order_list,a.permissions=e.permissions,0==i.monthList.length){var n=!0,r=!1,s=void 0;try{for(var l,u=(0,o.default)(e.month_list);!(n=(l=u.next()).done);n=!0){var h=l.value,g=new Date(Date.parse(h));i.monthList.push({title:t("date")(g,d.FORMAT_DATE_MONTH_SHORT_JS),value:g}),c.isSameMonth(i.currentMonth,g)&&(i.currentMonth=g)}}catch(e){r=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw s}}}}).catch(function(e){e?i.errorMessages=[e.data]:i.errorMessages=["Error while getting the initial data."]}).finally(function(){i.monthDataLoading=!1})};g(i.currentMonth),i.getSpecialFeatureClass=function(e){return c.getSpecialFeatureClass(e)},i.$watch("currentMonth",function(e,r){c.isSameMonth(e,r)||(g(e),n.putObject("scheduleDashboardCurrentMonth",e))}),i.onOrderDealerCommentChange=function(e,n){var r=e.target.value,a=n.dealer_comments;r!=a&&(i.isOrderDealerCommentSaving[n.id]=!0,l.saveDealerCommentOnOrder(n,r).then(function(){i.errorMessages=[]}).catch(function(){i.errorMessages=["Error while updating the comments for order #"+n.index+" for "+t("date")(n.month,d.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){i.isOrderDealerCommentSaving[n.id]=!1}))},i.filterOrders=function(e){return!!e.month_header||(c.containsCaseInsensitive(e.model_series,i.searchStr)||c.containsCaseInsensitive(e.customer,i.searchStr)||c.containsCaseInsensitive(e.chassis,i.searchStr)||c.containsCaseInsensitive(e.dealer_comments,i.searchStr))}}])},e.exports=n.default},137:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(24),o=t(a),i=r(1),d=t(i);n.default=function(e){r(72)(e),r(73)(e),e.controller("ScheduleDashboardController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleDashboardApiService","ScheduleDashboardService",function(e,n,r,t,a,i,s,l,c){t.permissions={},a.monthDataLoading=!1,a.assignProductionDatesLoading=!1,a.shuffleLoading=!1,a.orderCommentLoading={},a.orderSortLoading={},a.searchStr="",a.monthList=[],a.ordersSelected=[],a.production_unit=[],a.sortableOptions={axis:"y",containment:"#dashboard .content table tbody, #dashboard .content table tfoot",forceHelperSize:!0,forcePlaceholderSize:!0,handle:".drag-handle",placeholder:"sortable-placeholder",helper:function e(n,r){var t=r.children(),e=r.clone();return e.children().each(function(e,n){$(n).width(t.eq(e).outerWidth())}),e},stop:function(e,n){var r=(n.item.sortable.index,n.item.sortable.dropindex),t=n.item.sortable.model;if("dropindex"in n.item.sortable){for(var o=void 0,i=r,d=void 0,s=void 0,c=void 0,u=void 0,h=0;h<a.orderList.length;h++){var g=a.orderList[h];if(g.month_header&&(c=g.month,u=h),g.id==t.id){i-=u,o=c,h+1<a.orderList.length&&(s=a.orderList[h+1].id);break}d=g.id}a.orderSortLoading[t.id]=!0,a.new_order_list=[],a.new_order_index=[],angular.forEach(a.orderList,function(e,n){a.new_order_list.push(e.id),a.new_order_index.push(e.index)}),l.bulkmoveorders(a.currentMonth,a.new_order_list,a.new_order_index).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){a.orderSortLoading[t.id]=!1})}}};var u=s.now();a.currentMonth=new Date(u.getFullYear(),u.getMonth());var h=function(e){a.monthDataLoading=!0,l.getInitialData(e).then(function(e){if(a.orderList=e.order_list,a.lockdownMonth=e.lockdown_month,a.lockdownNumber=e.lockdown_number,t.permissions=e.permissions,0==a.monthList.length){var n=!0,o=!1,s=void 0;try{for(var l,u=(0,d.default)(e.month_list);!(n=(l=u.next()).done);n=!0){var h=l.value,g=new Date(Date.parse(h));a.monthList.push({title:r("date")(g,i.FORMAT_DATE_MONTH_SHORT_JS),value:g}),c.isSameMonth(a.currentMonth,g)&&(a.currentMonth=g)}}catch(e){o=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw s}}}}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while getting the initial data."]}).finally(function(){a.monthDataLoading=!1})};h(a.currentMonth),$("#chosen_month_show").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:"#chosen_month",OnAfterMenuClose:function(){$("#chosen_month").trigger("input")}}),a.$watch("currentMonth",function(e,n){e instanceof Date||(e=new Date(Date.parse(e))),n instanceof Date||(n=new Date(Date.parse(n))),c.isSameMonth(e,n)||h(e)}),a.getStatusClass=function(e){return"purchase_order_raised"==e?"summary_plans_completed":e},a.getSpecialFeatureClass=function(e){return c.getSpecialFeatureClass(e)},a.getOrderSummarySorted=function(e){var n=Object();return"not_finalized"in e&&(n.not_finalized=e.not_finalized),"pending_draft"in e&&(n.pending_draft=e.pending_draft),"pending_customer"in e&&(n.pending_customer=e.pending_customer),"customer_approved"in e&&(n.customer_approved=e.customer_approved),"plans_completed"in e&&(n.plans_completed=e.plans_completed),"senior_designer_verfied"in e&&(n.senior_designer_verfied=e.senior_designer_verfied),"purchase_order_raised"in e&&(n.purchase_order_raised=e.purchase_order_raised),n},a.getSpecialFeatureClass=function(e){return c.getSpecialFeatureClass(e)},a.onOrderCommentChange=function(e,n){var t=e.target.value,o=n.schedule_comments;t!=o&&(a.orderCommentLoading[n.id]=!0,l.saveCommentOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating the comments for order #"+n.index+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.orderCommentLoading[n.id]=!1}))},a.isSortingAllowed=function(){return a.permissions.change_schedule_dashboard},a.hasSequenceChangeInProgress=function(){return!(0,o.default)(a.orderSortLoading).every(function(e){return!e})},a.isSortingAvailable=function(){return!0},a.isOrderMovingButtonAvailable=function(){return!a.hasSequenceChangeInProgress()&&!a.moveCmdInitiated},a.filterOrders=function(e){return!!e.month_header||(c.containsCaseInsensitive(e.model_series,a.searchStr)||c.containsCaseInsensitive(e.dealership,a.searchStr)||c.containsCaseInsensitive(e.customer,a.searchStr)||c.containsCaseInsensitive(e.chassis,a.searchStr)||c.containsCaseInsensitive(e.order_id,a.searchStr)||c.containsCaseInsensitive(e.schedule_comments,a.searchStr))},a.assignProductionDates=function(){a.assignProductionDatesLoading=!0,l.assignProductionDates(a.currentMonth).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){a.assignProductionDatesLoading=!1})},a.onLockdown=function(e,n){l.saveLockdown(e,n).then(function(e){a.errorMessages=[],a.lockdownMonth=e.lockdown_month,a.lockdownNumber=e.lockdown_number}).catch(function(){a.errorMessages=["Error while locking down order #"+n+" for "+r("date")(e,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},a.onMoveCmd=function(){a.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition(a.currentMonth,a.move_month,a.new_position,a.ordersSelected,a.orderList).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){(e||{}).data?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){angular.forEach(a.ordersSelected,function(e){return a.orderSortLoading[e]=!1}),a.moveCmdInitiated=!1}),$("#moveOrderModal").modal("hide")},a.onMoveCmd1=function(){a.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition1(a.currentMonth,a.move_month,a.new_position,a.ordersSelected,a.production_unit).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){(e||{}).data?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){angular.forEach(a.ordersSelected,function(e){return a.orderSortLoading[e]=!1}),a.moveCmdInitiated=!1}),$("#moveOrderModal2").modal("hide")},a.moveOrderCount=function(){var e=0;return angular.forEach(a.orderList,function(n){n.selected&&e++}),e},$("#moveOrderModal.modal").on("hidden.bs.modal",function(){a.moveCmdInitiated||(angular.forEach(a.ordersSelected,function(e){return a.orderSortLoading[e]=!1}),angular.forEach(a.orderList,function(e){e.selected&&(e.selected=!1)}),a.$apply())}),$("#moveOrderModal2.modal").on("hidden.bs.modal",function(){a.moveCmdInitiated||(angular.forEach(a.ordersSelected,function(e){return a.orderSortLoading[e]=!1}),angular.forEach(a.orderList,function(e){e.selected&&(e.selected=!1)}),a.$apply()),$(this).find("input").val("").end().find("select").val("").end().find("input[type=checkbox], input[type=radio],input[type=text]").prop("checked","").end()}),a.moveOrders=function(){a.ordersSelected=[],angular.forEach(a.orderList,function(e,n){e.selected&&(a.ordersSelected.push(e.id),a.orderSortLoading[e.id]=!0)}),a.modalTitle="Move "+a.ordersSelected.length+" Order",a.ordersSelected.length>1&&(a.modalTitle+="s"),$("#moveOrderModal.modal").modal({backdrop:"static",keyboard:!1})},a.testbulkmoveOrders=function(){a.shuffleLoading=!0,a.new_order_list=[],a.new_order_index=[],angular.forEach(a.orderList,function(e,n){a.new_order_list.push(e.id),a.new_order_index.push(e.index)}),l.bulkmoveorders(a.currentMonth,a.new_order_list,a.new_order_index).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){(e||{}).data?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){a.shuffleLoading=!1,console.log("Done")})},a.moveOrders2=function(){a.ordersSelected=[],angular.forEach(a.orderList,function(e,n){e.selected&&(a.ordersSelected.push(e.id),a.orderSortLoading[e.id]=!0)}),a.modalTitle="Move "+a.ordersSelected.length+"  to Pop-Top/Campers",a.ordersSelected.length>1&&(a.modalTitle+="s"),$("#moveOrderModal2.modal").modal({backdrop:"static",keyboard:!1})},a.lockOrders=function(){a.ordersSelected=[],a.lockCmdInitiated=!0,angular.forEach(a.orderList,function(e,n){e.selected&&a.ordersSelected.push(e.id)}),l.massFinalizeOrder(a.currentMonth,a.ordersSelected).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){(e||{}).data?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){a.lockCmdInitiated=!1})}}])},e.exports=n.default},138:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),o=t(a),i=r(3),d=t(i);n.default=function(e){e.factory("ScheduleExportApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"getInitialData",value:function(){return e.getData("schedule/export/initial")}}]),n}();return new n}])},e.exports=n.default},139:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(1),o=t(a);n.default=function(e){r(138)(e),e.controller("ScheduleExportController",["$filter","$rootScope","$scope","AppSettings","ScheduleExportApiService",function(e,n,r,t,a){r.successMessages=[],r.errorMessages=[],r.monthList=[],r.exportSpecsPDF={invalidDates:!1,dateFrom:null,dateTo:null},r.exportScheduleCSV={invalidDates:!1,dateFrom:null,dateTo:null},r.contractorExports={list:[],invalidDates:!1,dateFrom:null,dateTo:null};var i=function(){["#exportScheduleCSV_dateFrom","#exportScheduleCSV_dateTo","#exportScheduleCSV1_dateFrom","#exportSpecsPDF_dateFrom","#contractorExports_dateFrom","#contractorExports_dateTo"].forEach(function(e){$(e+"_shown").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:e,OnAfterMenuClose:function(){$(e).trigger("input")}})})};setTimeout(i,1500),a.getInitialData().then(function(a){if(0==r.monthList.length){var i=!0,s=!1,l=void 0;try{for(var c,u=(0,o.default)(a.month_list);!(i=(c=u.next()).done);i=!0){var h=c.value,g=new Date(Date.parse(h));r.monthList.push({title:e("date")(g,t.FORMAT_DATE_MONTH_SHORT_JS),value:g}),d(g)&&(r.exportScheduleCSV.dateFrom=r.exportScheduleCSV.dateTo=g,r.exportSpecsPDF.dateFrom=g,r.contractorExports.dateFrom=r.contractorExports.dateTo=g)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}}n.permissions=a.permissions,r.dealers=a.dealer,r.contractorExports.list=a.contractor_exports}),r.validateDates=function(e){e.invalidDates=e.dateFrom>e.dateTo},r.validatePDFDates=function(e){e.dateFrom&&(e.invalidDates=!0)};var d=function(e){var n=new Date;return n.getFullYear()==e.getFullYear()&&n.getMonth()==e.getMonth()}}])},e.exports=n.default},140:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),o=t(a),i=r(3),d=t(i);n.default=function(e){e.factory("SchedulePlannerApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"getInitialData",value:function(){return e.getData("schedule/planner/initial")}},{key:"saveData",value:function(n){return e.postData("schedule/planner/save",{data:n})}}]),n}();return new n}])},e.exports=n.default},141:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(19),o=t(a),i=r(1),d=t(i);n.default=function(e){r(140)(e),e.controller("SchedulePlannerController",["$anchorScroll","$rootScope","$scope","SchedulePlannerApiService",function(e,n,r,t){r.saveLoading=!1,r.defaultDate=new Date(new Date-2592e5),r.successMessages=[],r.errorMessages=[];var a=function(n){var t=!1,a=!0,o=!1,i=void 0;try{for(var s,l=(0,d.default)(n);!(a=(s=l.next()).done);a=!0){var c=s.value;c.initialValue=new Date(c.production_month),t|=c.capacity<c.total_orders}}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}t&&r.errorMessages.push("One or more months have more orders than their allocated capacity."),r.all_data=n,e("message-anchor")};t.getInitialData().then(function(e){a(e.data),n.permissions=e.permissions}),r.save=function(){r.saveLoading=!0,t.saveData(r.all_data).then(function(e){r.successMessages=["Data saved successfully"],r.errorMessages=[],a(e.data)},function(e){var n=e.data;("undefined"==typeof n?"undefined":(0,o.default)(n))==(0,o.default)("")&&(n=[n]),r.errorMessages=n}).finally(function(){r.saveLoading=!1})}}])},e.exports=n.default},142:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),o=t(a),i=r(3),d=t(i);n.default=function(e){e.factory("ScheduleDashboardApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"assignProductionDates",value:function(n){return e.postData("schedule/transportdashboard/assign-production-dates",{assign_production_dates_for_month:e.formatDate(n)})}},{key:"changeOrderScheduleMonthPosition",value:function(n,r,t,a){return e.postData("schedule/transportdashboard/change-order-schedule-month-position",{view_month:e.formatDate(n),order_list:a,new_schedule_month:e.formatDate(r),new_position_month:t})}},{key:"getInitialData",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getDealerInitialData",value:function(n){return e.getData("schedule/transportdashboard/dealer/"+e.formatDate(n))}},{key:"saveCommentOnOrder",value:function(n,r){return e.postData("schedule/transportdashboard/update-order",{order_id:n.id,schedule_comments:r})}},{key:"saveQCOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-transport-order",{order_id:n.id+"",qc_comments_from:r})}},{key:"saveWaterOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-water-order",{order_id:n.id+"",qc_comments_from:r})}},{key:"saveDispatchOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-dispatch-order",{order_id:n.id+"",qc_comments_from:r})}},{key:"saveDealerCommentOnOrder",value:function(n,r){return e.postData("schedule/transportdashboard/update-order",{order_id:n.id,dealer_comments:r})}},{key:"saveLockdown",value:function(n,r){return e.postData("schedule/transportdashboard/update-lockdown",{lockdown_number:r,lockdown_month:n})}},{key:"updateOrderPosition",value:function(n,r,t,a,o,i){return e.postData("schedule/transportdashboard/update-order",{view_month:e.formatDate(n),order_id:r.id,new_month:t,new_position:a,previous_order_id:o,next_order_id:i})}},{key:"massFinalizeOrder",value:function(n,r){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(n),order_list:r})}}]),n}();return new n}])},e.exports=n.default},143:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),o=t(a),i=r(3),d=t(i);n.default=function(e){e.factory("ScheduleDashboardService",function(){var e=function(){function e(){(0,o.default)(this,e)}return(0,d.default)(e,[{key:"getSpecialFeatureClass",value:function(e){return"pending"==e.special_feature_status?"glyphicon-question-sign":"approved"==e.special_feature_status?"glyphicon-ok-sign":"rejected"==e.special_feature_status?"glyphicon-remove-sign":""}},{key:"isSameMonth",value:function(e,n){return e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()}},{key:"containsCaseInsensitive",value:function(e,n){return e.toLowerCase().indexOf(n.toLowerCase())!=-1}}]),e}();return new e})},e.exports=n.default},144:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(24),o=t(a),i=r(1),d=t(i);n.default=function(e){r(145)(e),r(142)(e),r(143)(e),e.controller("ScheduleTransportController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleTransportDashboardApiService","ScheduleDashboardApiService","ScheduleDashboardService",function(e,n,r,t,a,i,s,l,c,u){t.permissions={},a.monthDataLoading=!1,a.assignProductionDatesLoading=!1,a.sendEmailLoading=!1,a.sendReadyEmailLoading=!1,a.qcstatusvar={},a.qcshowgreen=!1,a.qcshow={},a.watershow={},a.dispatchshow={},a.hold_caravans_cur=!1,a.qc_comm_check={},a.testdate_dynamic="",a.calcdate={},a.planqcdate={},a.waterdate={},a.plandispdate={},a.holdblock={},a.prodblock={},a.prodblock1={},a.prodblock2={},a.chassisblock={},a.buildingblock={},a.prewireblock={},a.plumbingblock={},a.aluminiumblock={},a.finishingblock={},a.watertestingblock={},a.weighbridgeblock={},a.detailingblock={},a.qcblock={},a.qcblock1={},a.waterblock={},a.waterblock1={},a.weight_tare={},a.weight_atm={},a.weight_tow_ball={},a.weight_chassis_gtm={},a.weight_gas_comp={},a.weight_payload={},a.finalqcblock={},a.dispatchblock1={},a.dispatchblock2={},a.completeblock={},a.blankblock={},a.dispshowgreen=!1,a.actual_prod_date_loading={},a.chassis_section_date_loading={},a.onChasisSectionCommentLoading={},a.building_date_loading={},a.onBuildingCommentLoading={},a.prewire_date_loading={},a.onPrewireCommentLoading={},a.plumbing_date_loading={},a.onPlumbingCommentLoading={},a.aluminium_date_loading={},a.finishing_date_loading={},a.watertest_date_loading={},a.weigh_bridge_date_loading={},a.detailing_date_loading={},a.onAluminiumCommentLoading={},a.onFinishingCommentLoading={},a.onWatertestCommentLoading={},a.onWeighBridgeCommentLoading={},a.onDetailingCommentLoading={},a.orderCommentLoading={},a.actual_qc_date_loading={},a.qcCommentLoading={},a.ChassisCommentLoading={},a.prodCommentLoading={},a.actual_water_test_date_loading={},a.waterCommentLoading={},a.detailingCommentLoading={},a.final_qc_date_loading={},a.FinalQCCommentLoading={},a.actual_dispatch_date_loading={},a.dispatchCommentLoading={},a.orderSortLoading={},a.searchStr="",a.statuscolorvar="",a.await_chassis=0,a.await_building=0,a.await_prewire=0,a.await_aluminium=0,a.await_finishing=0,a.await_watertesting=0,a.await_weighbridge=0,a.await_detailing=0,a.dispatched_count=0,a.ready_for_dispatch_count=0,a.final_qc_count=0,a.water_count=0,a.first_qc_count=0,a.monthList=[],a.ordersSelected=[],a.mydate={date:new Date},a.getTodaysDate=new Date,a.sortableOptions={axis:"y",containment:"#transport_dashboard .content table tbody, #transport_dashboard .content table tfoot",forceHelperSize:!0,forcePlaceholderSize:!0,handle:".drag-handle",placeholder:"sortable-placeholder",helper:function e(n,r){var t=r.children(),e=r.clone();return e.children().each(function(e,n){$(n).width(t.eq(e).outerWidth())}),e},stop:function(e,n){var r=(n.item.sortable.index,n.item.sortable.dropindex),t=n.item.sortable.model;if("dropindex"in n.item.sortable){for(var o=void 0,i=r,d=void 0,s=void 0,c=void 0,u=void 0,h=0;h<a.orderList.length;h++){var g=a.orderList[h];if(g.month_header&&(c=g.month,u=h),g.id==t.id){i-=u,o=c,h+1<a.orderList.length&&(s=a.orderList[h+1].id);break}d=g.id}a.orderSortLoading[t.id]=!0,l.updateOrderPosition(a.currentMonth,t,o,i,d,s).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){}).finally(function(){a.orderSortLoading[t.id]=!1})}}};var h=s.now();a.currentMonth=new Date(h.getFullYear(),h.getMonth());var g=function(e){a.monthDataLoading=!0,l.getInitialData1(e).then(function(e){a.orderList=e.order_list,a.countList=e.count_list,a.lockdownMonth=e.lockdown_month,a.lockdownNumber=e.lockdown_number,a.finaltest=new Date,a.calcdate={},a.planqcdate={},a.waterdate={},a.plandispdate={};if(a.dispatched_count=0,a.ready_for_dispatch_count=0,a.water_count=0,a.await_chassis=0,a.await_building=0,a.await_prewire=0,a.await_aluminium=0,a.await_finishing=0,a.await_watertesting=0,a.await_weighbridge=0,a.await_detailing=0,a.await_qc_count_red=0,a.await_qc_count_yellow=-1,a.await_water_count_red=0,a.await_water_count_yellow=0,a.final_qc_count=0,t.permissions=e.permissions,0==a.monthList.length){var n=!0,o=!1,s=void 0;try{for(var l,c=(0,d.default)(e.month_list);!(n=(l=c.next()).done);n=!0){var h=l.value,g=new Date(Date.parse(h));a.monthList.push({title:r("date")(g,i.FORMAT_DATE_MONTH_SHORT_JS),value:g}),u.isSameMonth(a.currentMonth,g)&&(a.currentMonth=g)}}catch(e){o=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw s}}}}).catch(function(e){}).finally(function(){a.monthDataLoading=!1})},p=function(e){a.monthDataLoading=!0,l.getStatusInitialData().then(function(e){a.chassis_list=e.chassis_list,a.building_list=e.building_list,a.prewire_list=e.prewire_list,a.plumbing_list=e.plumbing_list,a.aluminium_list=e.aluminium_list,a.finishing_list=e.finishing_list,a.water_test_list=e.water_test_list,a.weigh_bridge_list=e.weigh_bridge_list,a.detailing_list=e.detailing_list,a.actual_qc_list=e.actual_qc_list,a.final_qc_list=e.final_qc_list,a.actual_dispatch_list=e.actual_dispatch_list,a.actual_dispatch_list1=e.actual_dispatch_list1,a.email_sent_green_list=e.email_sent_green_list,a.today_dispatched_list=e.today_dispatched_list,a.yesterday_dispatched_list=e.yesterday_dispatched_list,a.this_week_dispatched_list=e.this_week_dispatched_list,a.this_month_dispatched_list=e.this_month_dispatched_list,
a.total_count=e.total_count,t.permissions=e.permissions}).catch(function(e){}).finally(function(){a.monthDataLoading=!1})},_=function(e){l.getDelayStatusData().then(function(e){a.delay_list=e.delay_list,t.permissions=e.permissions}).catch(function(e){}).finally(function(){a.monthDataLoading=!1})};g(a.currentMonth),p(),_(),$("#chosen_month_show").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:"#chosen_month",OnAfterMenuClose:function(){$("#chosen_month").trigger("input")}}),a.$watch("currentMonth",function(e,n){e instanceof Date||(e=new Date(Date.parse(e))),n instanceof Date||(n=new Date(Date.parse(n))),u.isSameMonth(e,n)||g(e)}),a.getStatusClass=function(e){return"plans_completed"==e?"summary_plans_completed":e},a.call_Status=function(){console.log("test this call")},a.getOrderSummarySorted=function(e){var n=Object();return"not_finalized"in e&&(n.not_finalized=e.not_finalized),"pending_draft"in e&&(n.pending_draft=e.pending_draft),"pending_customer"in e&&(n.pending_customer=e.pending_customer),"customer_approved"in e&&(n.customer_approved=e.customer_approved),"plans_completed"in e&&(n.plans_completed=e.plans_completed),n},a.getSpecialFeatureClass=function(e){return u.getSpecialFeatureClass(e)},a.hold_order_fun=function(e){var n=!1;n=0==e.hold_caravans,l.hold_Order(e,n).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while Holding Order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.qcCommentLoading[e.id]=!1})},a.onChasisSectionCommentChange=function(e,n){var t=e.target.value,o=n.chassis_section_comments;t!=o&&(null==o&&""===t||(a.onChasisSectionCommentLoading[n.id]=!0,l.saveChassisOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Chassis  comments for order #"+n.index+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onChasisSectionCommentLoading[n.id]=!1})))},a.onBuildingCommentChange=function(e,n){var t=e.target.value,o=n.building_comments;t!=o&&(null==o&&""===t||(a.onBuildingCommentLoading[n.id]=!0,l.saveBuildingOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Building comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onBuildingCommentLoading[n.id]=!1})))},a.onPrewireCommentChange=function(e,n){var t=e.target.value,o=n.prewire_comments;t!=o&&(null==o&&""===t||(a.onPrewireCommentLoading[n.id]=!0,l.savePrewireOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Prewire comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onPrewireCommentLoading[n.id]=!1})))},a.onPlumbingCommentChange=function(e,n){var t=e.target.value,o=n.prewire_comments;t!=o&&(null==o&&""===t||(a.onPlumbingCommentLoading[n.id]=!0,l.savePlumbingOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Plumbing comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onPlumbingCommentLoading[n.id]=!1})))},a.onAluminiumCommentChange=function(e,n){var t=e.target.value,o=n.chassis_section_comments;t!=o&&(null==o&&""===t||(a.onAluminiumCommentLoading[n.id]=!0,l.saveAluminiumOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Aluminium comments for order # "+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onAluminiumCommentLoading[n.id]=!1})))},a.onFinishingCommentChange=function(e,n){var t=e.target.value,o=n.finishing_comments;t!=o&&(null==o&&""===t||(a.onFinishingCommentLoading[n.id]=!0,l.saveFinishinOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Finishing comments for order # "+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onFinishingCommentLoading[n.id]=!1})))},a.onWaterTestCommentChange=function(e,n){var t=e.target.value,o=n.watertest_comments;t!=o&&(null==o&&""===t||(a.onWatertestCommentLoading[n.id]=!0,l.saveWatertestOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Watertest comments for order # "+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onWatertestCommentLoading[n.id]=!1})))},a.onWeighBridgeCommentChange=function(e,n){var t=e.target.value,o=n.weigh_bridge_comments;t!=o&&(null==o&&""===t||(a.onWeighBridgeCommentLoading[n.id]=!0,l.saveWeighBridgeOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Weigh Bridge comments for order # "+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onWeighBridgeCommentLoading[n.id]=!1})))},a.onDetailingCommentChange=function(e,n){var t=e.target.value,o=n.detailing_comments;t!=o&&(null==o&&""===t||(a.onDetailingCommentLoading[n.id]=!0,l.saveDetailingOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Detailing comments for order # "+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.onDetailingCommentLoading[n.id]=!1})))},a.onQCCommentChange=function(e,n){var t=e.target.value,o=n.qc_comments_from;t!=o&&(null==o&&""===t||(a.qcCommentLoading[n.id]=!0,l.saveQCOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating QC comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.qcCommentLoading[n.id]=!1})))},a.onProdCommentChange=function(e,n){var t=e.target.value,o=n.prod_comments_from;t!=o&&(null==o&&""===t||(a.prodCommentLoading[n.id]=!0,l.saveProdOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Production comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.prodCommentLoading[n.id]=!1})))},a.onWaterCommentChange=function(e,n){var t=e.target.value,o=n.watertest_comments;t!=o&&(null==o&&""===t||(a.waterCommentLoading[n.id]=!0,l.saveWaterOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Water comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.waterCommentLoading[n.id]=!1})))},a.onFinalQCCommentChange=function(e,n){var t=e.target.value,o=n.final_qc_comments;t!==o&&(null===o&&""===t||(a.FinalQCCommentLoading[n.id]=!0,l.saveFinalQCOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Final QC comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.FinalQCCommentLoading[n.id]=!1})))},a.onDispatchCommentChange=function(e,n){var t=e.target.value,o=n.dispatch_comments;t!=o&&(null==o&&""===t||(a.dispatchCommentLoading[n.id]=!0,l.saveDispatchOnOrder(n,t).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating Dispatch comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){a.dispatchCommentLoading[n.id]=!1})))},a.storeproddate=function(e,n){var t=a.getTodaysDate,o=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveProdDate(n,o).then(function(){a.errorMessages=[]}).catch(function(){a.errorMessages=["Error while updating QC comments for order #"+n.chassis+" for "+r("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},a.storeqcdate=function(e,n){a.getTodaysDate;a.dispatchCommentLoading[n.id]=!0,l.saveQcDate(n,newValue).then(function(){a.errorMessages=[]}).catch(function(){}).finally(function(){a.dispatchCommentLoading[n.id]=!1})},a.onOrderCommentChange=function(e,n){var r=e.target.value,t=n.schedule_comments;r!=t&&(a.orderCommentLoading[n.id]=!0,l.saveCommentOnOrder(n,r).then(function(){a.errorMessages=[]}).catch(function(){}).finally(function(){a.orderCommentLoading[n.id]=!1}))},a.checkdatefun1=function(e){if(a.getTodaysDate>e.id)return a.watshowgreen=!1,!0},a.checkwaterfun=function(e){a.actual_water_test_date_loading[e.id]=!0;var n=new Date(a.getTodaysDate),t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveWaterDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Water Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),a.actual_water_test_date_loading[e.id]=!1}),a.actual_water_test_date_loading[e.id]=!1},a.checkfinalqcfun=function(e){a.final_qc_date_loading[e.id]=!0;var n=new Date(a.getTodaysDate),t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveFinalQCDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while final QC Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),a.final_qc_date_loading[e.id]=!1}),a.final_qc_date_loading[e.id]=!1},a.checkdatefun=function(e){a.actual_dispatch_date_loading[e.id]=!0;var n=new Date(a.getTodaysDate),t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveDispatchDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Actual Dispatch Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),a.actual_dispatch_date_loading[e.id]=!1}),a.actual_dispatch_date_loading[e.id]=!1},a.checkproddate=function(e){a.actual_prod_date_loading[e.id]=!0;var n=new Date(a.getTodaysDate),t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveProdDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Actual Production Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),a.actual_prod_date_loading[e.id]=!1})},a.checkweights=function(e){if(!(e.weight_tare&&e.weight_atm&&e.weight_tow_ball&&e.weight_tyres&&e.weight_chassis_gtm&&e.weight_gas_comp&&e.weight_payload))return a.dispshowgreen=!0,!0},a.checkallweights=function(e){return!!(e.weight_tare||e.weight_atm||e.weight_tow_ball||e.weight_tyres||e.weight_chassis_gtm||e.weight_gas_comp||e.weight_payload)&&(a.dispshowgreen=!1,!0)},a.checkwaterfun1=function(e){return a.getTodaysDate>e.id?(a.dispshowgreen=!0,!0):(a.dispshowgreen=!1,!1)},a.isSectionDateChanged=function(e){a.chassis_section_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveChassisDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Chassis Section Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.chassis_section_date_loading[e.id]=!1}),a.chassis_section_date_loading[e.id]=!1},a.isBuildingDateChanged=function(e){a.building_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveBuildingDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Building  Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.building_date_loading[e.id]=!1}),a.building_date_loading[e.id]=!1},a.isPrewireDateChanged=function(e){a.prewire_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.savePrewireDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Prewire Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.prewire_date_loading[e.id]=!1}),a.prewire_date_loading[e.id]=!1},a.isPlumbingDateChanged=function(e){a.plumbing_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.savePlumbingDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Plumbing Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.plumbing_date_loading[e.id]=!1}),a.plumbing_date_loading[e.id]=!1},a.isAluminiumDateChanged=function(e){a.aluminium_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveAluminiumDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Aluminium Date for order #"+e.chassis+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.aluminium_date_loading[e.id]=!1}),a.aluminium_date_loading[e.id]=!1},a.isFinishingDateChanged=function(e){a.finishing_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveFinishingDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Finishing Date for order #"+e.index+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.finishing_date_loading[e.id]=!1}),a.finishing_date_loading[e.id]=!1},a.isWatertestDateChanged=function(e){a.watertest_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveWatertestDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating Watertest Date for order #"+e.index+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.watertest_date_loading[e.id]=!1}),a.watertest_date_loading[e.id]=!1},a.isWeighbridgeDateChanged=function(e){a.weigh_bridge_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveWeighBridgeDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating  Weigh Bridge  Date for order #"+e.index+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.weigh_bridge_date_loading[e.id]=!1}),a.weigh_bridge_date_loading[e.id]=!1},a.isDetailingDateChanged=function(e){a.detailing_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveDetailingDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating  Detailing Date for order #"+e.index+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.detailing_date_loading[e.id]=!1}),a.detailing_date_loading[e.id]=!1},a.checkactualqc=function(e){a.actual_qc_date_loading[e.id]=!0;var n=a.getTodaysDate,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveQcDate(e,t).then(function(){a.errorMessages=[],g(a.currentMonth),setTimeout(2e3)}).catch(function(){a.errorMessages=["Error while updating QC Canopy Date for order #"+e.index+" for "+r("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),a.actual_qc_date_loading[e.id]=!1}),a.actual_qc_date_loading[e.id]=!1},a.isSortingAllowed=function(){return a.permissions.view_transport_dashboard},a.hasSequenceChangeInProgress=function(){return!(0,o.default)(a.orderSortLoading).every(function(e){return!e})},a.isSortingAvailable=function(){return!a.searchStr&&!a.hasSequenceChangeInProgress()&&!a.moveCmdInitiated},a.isOrderMovingButtonAvailable=function(){return!a.hasSequenceChangeInProgress()&&!a.moveCmdInitiated},a.testfilterfun=function(){a.searchStr="Dispatched"},a.filterreadyfordispatch=function(){a.searchStr="Ready For Dispatch"},a.filterchassis=function(){a.searchStr="Chassis"},a.filterbuilding=function(){a.searchStr="Building"},a.filterprewire=function(){a.searchStr="Prewire"},a.filterplumbing=function(){a.searchStr="Plumbing"},a.filteraluminium=function(){a.searchStr="Aluminium"},a.filterfinishing=function(){a.searchStr="Finishing"},a.filteractualqc=function(){a.searchStr="QC Canopy"},a.filterwatertest=function(){a.searchStr="Water Testing"},a.filterweighbridge=function(){a.searchStr="Weigh Bridge"},a.filterdetailing=function(){a.searchStr="Detailing"},a.filterfinalqc=function(){a.searchStr="Final QC"},a.filterOrders=function(e){return!!e.month_header||(u.containsCaseInsensitive(e.model_series,a.searchStr)||u.containsCaseInsensitive(e.dealership,a.searchStr)||u.containsCaseInsensitive(e.customer,a.searchStr)||u.containsCaseInsensitive(e.chassis,a.searchStr)||u.containsCaseInsensitive(e.order_id,a.searchStr)||u.containsCaseInsensitive(e.order_status,a.searchStr))},a.export_delay_all=function(){l.exportDelayAll().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting All the Delayed orders. Please reload the page."]}).finally(function(){})},a.export_delay_chassis=function(){l.exportDelayChassis().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Chassis Delay. Please reload the page."]}).finally(function(){})},a.export_delay_building=function(){l.exportDelayBuilding().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Building Delay. Please reload the page."]}).finally(function(){})},a.export_delay_prewire=function(){l.exportDelayPrewire().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Pre Wire Delay. Please reload the page."]}).finally(function(){})},a.export_delay_plumbing=function(){l.exportDelayPlumbing().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Plumbing Delay. Please reload the page."]}).finally(function(){})},a.export_delay_aluminium=function(){l.exportDelayAluminium().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Aluminium Delay. Please reload the page."]}).finally(function(){})},a.export_delay_finishing=function(){l.exportDelayFinishing().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Finishing Delay. Please reload the page."]}).finally(function(){})},a.export_delay_detailing=function(){l.exportDelayDetailing().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Detailing Delay. Please reload the page."]}).finally(function(){})},a.export_delay_watertesting=function(){l.exportDelayWatertesting().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Watertesting Delay. Please reload the page."]}).finally(function(){})},a.export_delay_actualqc=function(){l.exportDelayActualQC().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Actual QC Delay. Please reload the page."]}).finally(function(){})},a.export_delay_finalqc=function(){l.exportDelayFinalQC().then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the Final QC Delay. Please reload the page."]}).finally(function(){})},a.export_dispatched=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportDispatched(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_ready_dispatch=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportReadyDispatched(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_chassis=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportChassis(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_building=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportBuilding(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_prewire=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportPrewire(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_plumbing=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportPlumbing(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_aluminium=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportAluminium(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_finishing=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportFinishing(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_watertesting=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportWatertesting(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_weighbridge=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportWeighbridge(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_detailing=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportDetailing(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_actualqc=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportActualQc(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_watertest=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportWatertest(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_finalqc=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportFinalQC(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.export_all=function(){var e=new Date(a.currentMonth),n=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),t=n+"-"+r;l.exportAll(t).then(function(){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},a.assignProductionDates=function(){a.assignProductionDatesLoading=!0,l.assignProductionDates(a.currentMonth).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){a.assignProductionDatesLoading=!1})},a.sendReadyForDispatchList=function(){a.sendReadyEmailLoading=!0,console.log("Entering the Ready For Dispatch ! "),l.sendEmailReadyForDispatch().then(function(e){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){a.sendReadyEmailLoading=!1})},a.sendActualDispatchList=function(){a.sendEmailLoading=!0,console.log("Entering the Function"),l.sendEmailActualDispatch().then(function(e){a.errorMessages=[]}).catch(function(e){e?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){a.sendEmailLoading=!1})},a.onLockdown=function(e,n){l.saveLockdown(e,n).then(function(e){a.errorMessages=[],a.lockdownMonth=e.lockdown_month,a.lockdownNumber=e.lockdown_number}).catch(function(){a.errorMessages=["Error while locking down order #"+n+" for "+r("date")(e,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},a.onMoveCmd=function(){a.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition(a.currentMonth,a.move_month,a.new_position,a.ordersSelected).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){(e||{}).data}).finally(function(){angular.forEach(a.ordersSelected,function(e){return a.orderSortLoading[e]=!1}),a.moveCmdInitiated=!1}),$("#moveOrderModal").modal("hide")},a.moveOrderCount=function(){var e=0;return angular.forEach(a.orderList,function(n){n.selected&&e++}),e},$("#moveOrderModal.modal").on("hidden.bs.modal",function(){a.moveCmdInitiated||(angular.forEach(a.ordersSelected,function(e){return a.orderSortLoading[e]=!1}),angular.forEach(a.orderList,function(e){e.selected&&(e.selected=!1)}),a.$apply())}),a.moveOrders=function(){a.ordersSelected=[],angular.forEach(a.orderList,function(e,n){e.selected&&(a.ordersSelected.push(e.id),a.orderSortLoading[e.id]=!0)}),a.modalTitle="Move "+a.ordersSelected.length+" Order",a.ordersSelected.length>1&&(a.modalTitle+="s"),$("#moveOrderModal.modal").modal({backdrop:"static",keyboard:!1})},a.lockOrders=function(){a.ordersSelected=[],a.lockCmdInitiated=!0,angular.forEach(a.orderList,function(e,n){e.selected&&a.ordersSelected.push(e.id)}),l.massFinalizeOrder(a.currentMonth,a.ordersSelected).then(function(e){a.orderList=e.order_list,a.errorMessages=[]}).catch(function(e){(e||{}).data?a.errorMessages=[e.data]:a.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){a.lockCmdInitiated=!1})}}])},e.exports=n.default},145:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),o=t(a),i=r(3),d=t(i);n.default=function(e){e.factory("ScheduleTransportDashboardApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"assignProductionDates",value:function(n){return e.postData("schedule/transportdashboard/assign-production-dates",{assign_production_dates_for_month:e.formatDate(n)})}},{key:"changeOrderScheduleMonthPosition",value:function(n,r,t,a){return e.postData("schedule/transportdashboard/change-order-schedule-month-position",{view_month:e.formatDate(n),order_list:a,new_schedule_month:e.formatDate(r),new_position_month:t})}},{key:"getInitialData",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getInitialData",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getInitialData1",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getStatusInitialData",value:function(){return e.getData("schedule/dashboard/production_status/")}},{key:"getDelayStatusData",value:function(){return e.getData("schedule/dashboard/delay_status/")}},{key:"getDealerInitialData",value:function(n){return e.getData("schedule/transportdashboard/dealer/"+e.formatDate(n))}},{key:"getStatusData",value:function(n){return e.getData("schedule/dashboard/production_status/"+e.formatDate(n))}},{key:"hold_Order",value:function(n,r){return e.postData("schedule/dashboard/update-hold-caravans",{order_id:n.id,hold_caravans:r})}},{key:"saveCommentOnOrder",value:function(n,r){return e.postData("schedule/transportdashboard/update-order",{order_id:n.id,schedule_comments:r})}},{key:"saveChassisOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-chassis-section-comments",{order_id:n.id+"",chassis_section_comments:r})}},{key:"saveBuildingOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-building-comments",{order_id:n.id+"",building_comments:r})}},{key:"savePrewireOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-prewire-comments",{order_id:n.id+"",prewire_comments:r})}},{key:"savePlumbingOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-plumbing-comments",{order_id:n.id+"",plumbing_comments:r})}},{key:"saveAluminiumOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-aluminium-comments",{order_id:n.id+"",aluminium_comments:r})}},{key:"saveFinishinOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-finishing-comments",{order_id:n.id+"",finishing_comments:r})}},{key:"saveWatertestOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-water-comments",{order_id:n.id+"",watertest_comments:r})}},{key:"saveQCOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-transport-order",{order_id:n.id+"",qc_comments_from:r})}},{key:"saveProdOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-prodcomment-order",{order_id:n.id+"",prod_comments_from:r})}},{key:"saveWaterOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-water-order",{order_id:n.id+"",watertest_comments:r})}},{key:"saveWeighBridgeOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-weigh-bridge-comments",{order_id:n.id+"",weigh_bridge_comments:r})}},{key:"saveDetailingOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-detailing-comments",{order_id:n.id+"",detailing_comments:r})}},{key:"saveFinalQCOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-finalqc-order",{order_id:n.id+"",final_qc_comments:r})}},{key:"saveDispatchOnOrder",value:function(n,r){return e.postData("schedule/dashboard/update-dispatch-order",{order_id:n.id+"",dispatch_comments:r})}},{key:"saveProdDate",value:function(n,r){return e.postData("schedule/dashboard/update-proddate",{
order_id:n.id+"",actual_production_date:r})}},{key:"savePlannedWaterDate",value:function(n,r,t,a){return e.postData("schedule/dashboard/update-planned-water-date",{order_id:n.id+"",planned_watertest_date:t,planned_qc_date:r,planned_disp_date:a})}},{key:"saveChassisDate",value:function(n,r){return e.postData("schedule/dashboard/update-chassis-section",{order_id:n.id+"",chassis_section:r})}},{key:"saveAluminiumDate",value:function(n,r){return e.postData("schedule/dashboard/update-aluminium",{order_id:n.id+"",aluminium:r})}},{key:"saveBuildingDate",value:function(n,r){return e.postData("schedule/dashboard/update-building",{order_id:n.id+"",building:r})}},{key:"savePrewireDate",value:function(n,r){return e.postData("schedule/dashboard/update-prewire_section",{order_id:n.id+"",prewire_section:r})}},{key:"savePlumbingDate",value:function(n,r){return e.postData("schedule/dashboard/update-plumbing_date",{order_id:n.id+"",plumbing_date:r})}},{key:"saveFinishingDate",value:function(n,r){return e.postData("schedule/dashboard/update-finishing",{order_id:n.id+"",finishing:r})}},{key:"saveWatertestDate",value:function(n,r){return e.postData("schedule/dashboard/update-waterdate",{order_id:n.id+"",watertest_date:r})}},{key:"saveWeighBridgeDate",value:function(n,r){return e.postData("schedule/dashboard/update-weigh-bridge",{order_id:n.id+"",weigh_bridge_date:r})}},{key:"saveDetailingDate",value:function(n,r){return e.postData("schedule/dashboard/update-detailing",{order_id:n.id+"",detailing_date:r})}},{key:"saveQcDate",value:function(n,r){return e.postData("schedule/dashboard/update-qcdate",{order_id:n.id+"",actual_qc_date:r})}},{key:"saveWaterDate",value:function(n,r){return e.postData("schedule/dashboard/update-waterdate",{order_id:n.id+"",actual_watertest_date:r+""})}},{key:"saveFinalQCDate",value:function(n,r){return e.postData("schedule/dashboard/update-finalqcdate",{order_id:n.id+"",final_qc_date:r+""})}},{key:"saveDispatchDate",value:function(n,r){return e.postData("schedule/dashboard/update-dispatchdate",{order_id:n.id+"",actual_dispatch_date:r})}},{key:"sendEmailReadyForDispatch",value:function(){return e.postData("schedule/dashboard/send-ReadyForDispatch",{send_ReadyForDispatch:"send_ReadyForDispatch"})}},{key:"sendEmailActualDispatch",value:function(){return e.postData("schedule/dashboard/send-ActualDispatch",{send_ActualDispatch:"send_ActualDispatch"})}},{key:"exportDispatched",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/dispatched/"+e+"/"+e}},{key:"exportReadyDispatched",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/pending_for_dispatch/"+e+"/"+e}},{key:"exportChassis",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_chassis/"+e+"/"+e}},{key:"exportBuilding",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_building/"+e+"/"+e}},{key:"exportPrewire",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_prewire/"+e+"/"+e}},{key:"exportPlumbing",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_plumbing/"+e+"/"+e}},{key:"exportAluminium",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_aluminium/"+e+"/"+e}},{key:"exportFinishing",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_finishing/"+e+"/"+e}},{key:"exportWatertesting",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_watertest/"+e+"/"+e}},{key:"exportWeighbridge",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_weighbridge/"+e+"/"+e}},{key:"exportDetailing",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_detailing/"+e+"/"+e}},{key:"exportActualQc",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_qc/"+e+"/"+e}},{key:"exportWatertest",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_water_test/"+e+"/"+e}},{key:"exportFinalQC",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_final_qc/"+e+"/"+e}},{key:"exportAll",value:function(e){console.log("all"),window.location="/export/schedule/productiondashboard-csv/1/all/"+e+"/"+e}},{key:"exportDelayAll",value:function(){window.location="/export/schedule/delaydashboard-csv/all/"}},{key:"exportDelayChassis",value:function(){window.location="/export/schedule/delaydashboard-csv/chassis/"}},{key:"exportDelayBuilding",value:function(){window.location="/export/schedule/delaydashboard-csv/building/"}},{key:"exportDelayPrewire",value:function(){window.location="/export/schedule/delaydashboard-csv/prewire/"}},{key:"exportDelayPlumbing",value:function(){window.location="/export/schedule/delaydashboard-csv/plumbing/"}},{key:"exportDelayAluminium",value:function(){window.location="/export/schedule/delaydashboard-csv/aluminium/"}},{key:"exportDelayFinishing",value:function(){window.location="/export/schedule/delaydashboard-csv/finishing/"}},{key:"exportDelayDetailing",value:function(){window.location="/export/schedule/delaydashboard-csv/detailing/"}},{key:"exportDelayWatertesting",value:function(){window.location="/export/schedule/delaydashboard-csv/watertesting/"}},{key:"exportDelayFinalQC",value:function(){window.location="/export/schedule/delaydashboard-csv/finalqc/"}},{key:"exportDelayActualQC",value:function(){window.location="/export/schedule/delaydashboard-csv/actualqc/"}},{key:"saveDealerCommentOnOrder",value:function(n,r){return e.postData("schedule/transportdashboard/update-order",{order_id:n.id,dealer_comments:r})}},{key:"saveLockdown",value:function(n,r){return e.postData("schedule/transportdashboard/update-lockdown",{lockdown_number:r,lockdown_month:n})}},{key:"updateOrderPosition",value:function(n,r,t,a,o,i){return e.postData("schedule/transportdashboard/update-order",{view_month:e.formatDate(n),order_id:r.id,new_month:t,new_position:a,previous_order_id:o,next_order_id:i})}},{key:"massFinalizeOrder",value:function(n,r){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(n),order_list:r})}}]),n}();return new n}])},e.exports=n.default},176:function(e,n,r){"use strict";var t=r(10);r(133)(t),t.config(["$stateProvider","$urlRouterProvider",function(e,n){var t=function(e){var n=new Date,r=new Date(n.getFullYear(),n.getMonth());return e.getObject("scheduleCapacityCurrentMonth")&&(r=new Date(Date.parse(e.getObject("scheduleCapacityCurrentMonth")))),r};n.when("","/dashboard").when("/capacity",["$cookies","$state",function(e,n){return n.go("schedule.capacity",{currentMonth:t(e)},{reload:!0}),!0}]).when("/transportdashboard",["$cookies","$state",function(e,n){return n.go("schedule.transportdashboard",{currentMonth:t(e)},{reload:!0}),!0}]),e.state("dealer_dashboard",{url:"/dealer_dashboard",template:r(310),controller:"DealerScheduleDashboardController"}).state("schedule",{abstract:!0,url:"",template:r(313),controller:"ScheduleController"}).state("schedule.dashboard",{url:"/dashboard",template:r(309),controller:"ScheduleDashboardController"}).state("schedule.transportdashboard",{url:"/transportdashboard",template:r(314),controller:"ScheduleTransportController"}).state("schedule.statusdashboard",{url:"/statusdashboard",template:r(317),controller:"ScheduleTransportController"}).state("schedule.delaydashboard",{url:"/delaydashboard",template:r(315),controller:"ScheduleTransportController"}).state("combinedstatusdashboard",{url:"/combinedstatusdashboard",template:r(316),controller:"ScheduleTransportController"}).state("schedule.capacity",{url:"/capacity/{currentMonth:date}",template:r(308),controller:"ScheduleCapacityController",params:{currentMonth:["$cookies",function(e){return t(e)}]}}).state("schedule.planner",{url:"/planner",template:r(312),controller:"SchedulePlannerController"}).state("schedule.export",{url:"/export",template:r(311),controller:"ScheduleExportController"})}])},308:function(e,n){e.exports='<div id="capacity">\r\n    <top-bar>\r\n        <h2 class="top-bar__title">Caravans Production Capacity</h2>\r\n    </top-bar>\r\n\r\n    <messages></messages>\r\n\r\n    <div class="row header">\r\n        <label>Date range:</label>\r\n        <select ng-model="currentMonth"\r\n            ng-options="month.value as month.title for month in monthList" no-dirty-check></select>\r\n        <bar-spinner ng-if="initialDataLoading"></bar-spinner>\r\n    </div>\r\n\r\n    <div class="row content">\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Date</th>\r\n                    <th>Capacity</th>\r\n                    <th>Type</th>\r\n                    <th ng-if="permissions.change_schedule_capacity"></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr ng-repeat="week in weekList" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\r\n                    <td>{{ week.start_label }} - {{ week.end_label }}</td>\r\n                    <td><strong>{{ week.total_capacity }}</strong></td>\r\n                    <td>\r\n                        <ul>\r\n                            <li ng-repeat="day in week.days" ng-class="day.month_start ? \'month-start\': \'\'">\r\n                                <label>{{ day.label }}</label>\r\n                                <input type="number" ng-model="day.capacity" ng-readonly="!permissions.change_schedule_capacity" />\r\n                                <div>{{ day.month_start }}</div>\r\n                            </li>\r\n                        </ul>\r\n                    </td>\r\n                    <td ng-if="permissions.change_schedule_capacity"><a ng-if="!$last" ng-click="duplicate(week)">Copy to following week</a></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <div class="row footer">\r\n        <button ng-if="permissions.change_schedule_capacity" class="btn btn-primary btn-lg btn-danger" ng-click="save()">Save changes</button>\r\n        <bar-spinner ng-if="saveLoading"></bar-spinner>\r\n    </div>\r\n</div>'},309:function(e,n){e.exports='<div id="dashboard">\r\n    <top-bar>\r\n        <h2 class="top-bar__title">Caravans Dashboard</h2>\r\n    </top-bar>\r\n\r\n\r\n\r\n    <messages></messages>\r\n\r\n    <div class="row header">\r\n        <div class="col-sm-2">\r\n            <label>Month: </label>\r\n                <input id=\'chosen_month_show\' type="text" class="form-control" />\r\n                <input id=\'chosen_month\' hidden ng-model="currentMonth" no-dirty-check />\r\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\r\n        </div>\r\n        <div class="col-sm-5">\r\n            <label>Filter: </label>\r\n            <input ng-model="searchStr" placeholder="Type to filter on Model, Customer, Dealership, Chassis or Comments..." size="60" />\r\n        </div>\r\n\r\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-4 pull-right">\r\n            <button ng-click="assignProductionDates()" class="btn btn-primary pull-right">Assign production dates</button>\r\n            <div class="spinner-container"><bar-spinner ng-if="assignProductionDatesLoading"></bar-spinner></div>\r\n        </div>\r\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-3 pull-right">\r\n            <button ng-click="moveOrders()" ng-disabled="!moveOrderCount() || !isOrderMovingButtonAvailable() " class="btn btn-primary">Move Orders</button>\r\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\r\n        </div>\r\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-2 pull-right">\r\n            <button ng-click="moveOrders2()" ng-disabled="!moveOrderCount() || !isOrderMovingButtonAvailable() " class="btn btn-primary">Move to Pop-Top/Campers</button>\r\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\r\n        </div>\r\n        <div ng-if="permissions.finalize_order" class="col-sm-1 pull-right">\r\n            <button ng-click="lockOrders()" ng-disabled="!moveOrderCount()" class="btn btn-primary">Lock Orders</button>\r\n            <div class="spinner-container" ng-if="lockCmdInitiated"><bar-spinner></bar-spinner></div>\r\n        </div>\r\n        <!-- <div ng-if="permissions.change_schedule_dashboard" class="col-sm-4 pull-right">\r\n            <button ng-click="testbulkmoveOrders()" class="btn btn-primary pull-right">Shuffle  Orders </button>\r\n            <div class="spinner-container"><bar-spinner ng-if="shuffleLoading"></bar-spinner></div>\r\n        </div> {% endcomment %}-->\r\n    </div>\r\n\r\n    <div class="row content">\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th ng-if="isSortingAllowed()">&nbsp;</th>\r\n                    <th>Sch. No.</th>\r\n                    <!-- <th>New Pos</th> -->\r\n                    <th>Production date</th>\r\n                    <th>Chassis</th>\r\n                    <th>Order #</th>\r\n                    <th>Series Code</th>\r\n                    <th>Special</th>\r\n                    <th>Dealership</th>\r\n                    <th>Customer</th>\r\n                    <th>Drafter</th>\r\n                    <th class="comments">Comments</th>\r\n                    <th>VIN No.</th>\r\n                    <th ng-if="permissions.change_schedule_dashboard">Select</th>\r\n                    <th>Manage</th>\r\n                    <th ng-if="permissions.change_schedule_dashboard">Lock</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody ui-sortable="sortableOptions" ng-model="orderList">\r\n                <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\r\n                    <td ng-if="order.month_header && isSortingAllowed()" class="month-header">&nbsp;</td>\r\n                    <td ng-if="order.month_header" class="month-header" colspan="42">\r\n                        {{ order.month_header }}\r\n                        <span class="capacity">\r\n                            <span>Available: {{ order.available }}</span>\r\n                            <span>Taken: {{ order.taken }}</span>\r\n                            <span>Capacity: {{ order.capacity }}</span>\r\n                            <span>Lock down date: {{ order.signoff_date }}</span>\r\n                        </span>\r\n                        <span class="status-summary">\r\n                            Status Summary:\r\n                            <span ng-repeat="(status, value) in getOrderSummarySorted(order.status_summary)" ng-class="order.status" class="{{ getStatusClass(status) }}">{{ value }}</span>\r\n                        </span>\r\n                    </td>\r\n\r\n                    <td ng-if="!order.month_header && isSortingAllowed()" ng-class="isSortingAvailable() ? \'drag-handle\' : \'not-available\'"><i class="glyphicon glyphicon-move"></i></td>\r\n                    <td ng-if="!order.month_header">\r\n                        <i class="glyphicon glyphicon-lock" ng-if="order.month < lockdownMonth || (order.month === lockdownMonth && order.index <= lockdownNumber)"></i>\r\n                        {{ order.index }}\r\n                    </td>\r\n                  <!--   <td ng-if="!order.month_header" >{{ $index }}</td> -->\r\n                    <td ng-if="!order.month_header">{{ order.production_date | date: AppSettings.FORMAT_DATE_WEEKDAY_JS }}</td>\r\n                    <td ng-if="!order.month_header" ng-class="order.status">{{ order.chassis }}</td>\r\n                    <td ng-if="!order.month_header" ng-class="order.status">{{ order.order_id }}</td>\r\n                    <td ng-if="!order.month_header">{{ order.model_series }}</td>\r\n                    <td ng-if="!order.month_header"><i class="glyphicon" ng-class="getSpecialFeatureClass(order)"></i></td>\r\n                    <td ng-if="!order.month_header">{{ order.dealership }}</td>\r\n                    <td ng-if="!order.month_header">{{ order.customer }}</td>\r\n                    <td ng-if="!order.month_header">{{ order.drafter }}</td>\r\n                    <td ng-if="!order.month_header" class="comments">\r\n                        <input class="input-comments" type="text" placeholder="Comments..." maxlength="2000"\r\n                               ng-model="order.schedule_comments" ng-blur="onOrderCommentChange($event, order)"\r\n                               ng-model-options="{ updateOn: \'blur\', debounce:0 }"\r\n                               no-dirty-check\r\n                               ng-readonly="!permissions.edit_comments_schedule_dashboard"/>\r\n                        <bar-spinner ng-if="orderCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n                    <td ng-if="!order.month_header">{{ order.vin_number }}</td>\r\n                    <td ng-if="!order.month_header && permissions.change_schedule_dashboard">\r\n                       <input type="checkbox" ng-model="order.selected "/>\r\n                    </td>\r\n                    <td ng-if="!order.month_header"><a href="{{ order.url }}" target="_blank">Manage</a></td>\r\n\r\n                    <td ng-if="!order.month_header && permissions.change_schedule_dashboard">\r\n                        <a href="#" ng-click="onLockdown(order.month, order.index)">Lock</a>\r\n                    </td>\r\n\r\n                    <td ng-if="orderSortLoading[order.id]" class="spinner-container"><bar-spinner></bar-spinner></td>\r\n                </tr>\r\n                <tr class="extra-placeholder"><td colspan="42"></td></tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal fade" id="moveOrderModal">\r\n   <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\r\n                        aria-hidden="true">&times;</span></button>\r\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\r\n            </div>\r\n            <div class="modal-body">\r\n                <form name="move_orders_form">\r\n                  <div class="row move_orders">\r\n                    <span class="col-md-4 col-md-offset-2">\r\n                      <label>Schedule Month </label>\r\n                      <select ng-model="move_month"\r\n                              ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\r\n                              no-dirty-check>\r\n                        <option value="">Select</option>\r\n                      </select>\r\n                    </span>\r\n                  <span class="col-md-3">\r\n                      <label> Order Position</label>\r\n                      <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\r\n                    </span>\r\n                  </div>\r\n                </form>\r\n\r\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd()">Move</button>\r\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal fade" id="moveOrderModal2">\r\n   <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\r\n                        aria-hidden="true">&times;</span></button>\r\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\r\n            </div>\r\n            <div class="modal-body">\r\n                <form name="move_orders_form1">\r\n                  <div class="row move_orders">\r\n                    <span class="col-md-4 col-md-offset-2">\r\n                      <label>Schedule Month </label>\r\n                      <select ng-model="move_month"\r\n                              ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\r\n                              no-dirty-check>\r\n                        <option value="">Select</option>\r\n                      </select>\r\n                    </span>\r\n                    <span class="col-md-3">\r\n                      <label> Order Position</label>\r\n                    <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\r\n                    </span>\r\n                    <span class="col-md-3">\r\n                      <label> Pop-Top/Campers</label>\r\n                      <input type="hidden" ng-model="production_unit" value=\'2\' />\r\n                       \r\n                    </span>\r\n                  </div>\r\n                </form>\r\n\r\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd1()"> Move To Pop-Top/Campers </button>\r\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n'},310:function(e,n){e.exports='<nav class="navbar navbar-default navbar-content">\r\n        <!-- Brand and toggle get grouped for better mobile display -->\r\n        <div class="navbar-header">\r\n            <span class="navbar-brand">\r\n                <img src="/static/newage/icons/orders.png" />\r\n                Dealer Dashboard\r\n            </span>\r\n        </div>\r\n</nav>\r\n\r\n<div id="dashboard">\r\n    <top-bar>\r\n        <h2 class="top-bar__title">Dealer Dashboard</h2>\r\n    </top-bar>\r\n\r\n    <messages>\r\n        {{ order.messages }}\r\n    </messages>\r\n\r\n    <div class="row header">\r\n        <div class="col-sm-2">\r\n            <label>Month: </label>\r\n            <select ng-model="currentMonth"\r\n                ng-options="month.value as month.title for month in monthList" no-dirty-check></select>\r\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\r\n        </div>\r\n        <div class="col-sm-5">\r\n            <label>Filter: </label>\r\n            <input ng-model="searchStr" placeholder="Type to filter on Model, Customer, or Chassis..." size="60" />\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row content">\r\n        <div class="legend">\r\n          <table>\r\n           <tr>\r\n              <td class="not_finalized highlight"> Not Finalised </td>\r\n              <td class="pending_draft"> To be Drafted </td>\r\n              <td class="customer_approved highlight"> Customer Plan Completed </td>\r\n              <td class="summary_plans_completed1"> Plans Completed </td>\r\n           </tr>\r\n          </table>\r\n        </div>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Chassis</th>\r\n                    <th>Online Date</th>\r\n                    <th>Offline Date</th>\r\n                    <th>Series Code</th>\r\n                    <th>Special</th>\r\n                    <th>Customer</th>\r\n                    <th>Comment</th>\r\n                    <th>Manage</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody ng-model="orderList">\r\n                <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\r\n                    <td ng-if="order.month_header" class="month-header" colspan="9">\r\n                        {{ order.month_header }}\r\n                        <span class="capacity">\r\n                            <span>Lock down date: {{ order.signoff_date }}</span>\r\n                        </span>\r\n                    </td>\r\n                    \r\n                    <td ng-if="!order.month_header"   ng-class="order.status"> {{ order.chassis }} </td>\r\n                    <td ng-if="!order.month_header" > {{ order.production_date | date : \'dd-MM-yyyy\' }} </td>\r\n                    <td ng-if="!order.month_header" > {{ order.planned_dispatch_date | date : \'dd-MM-yyyy\' }} </td>\r\n\r\n                    <td ng-if="!order.month_header"> {{ order.model_series }} </td>\r\n                    <td ng-if="!order.month_header"> <i class="glyphicon" ></i> \r\n                    {{ order.special_feature_status }}</td>\r\n                    <td ng-if="!order.month_header">  {{ order.customer }}</td>\r\n                    <td ng-if="!order.month_header" class="comments">\r\n                        <input class="input-comments" type="text" placeholder="Comments..." maxlength="2000"\r\n                               ng-model="order.dealer_comments" ng-blur="onOrderDealerCommentChange($event, order)"\r\n                               ng-model-options="{ updateOn: \'blur\', debounce:0 }"\r\n                               ng-readonly="isOrderDealerCommentSaving[order.id]"\r\n                               no-dirty-check\r\n                               />\r\n                        <bar-spinner ng-if="isOrderDealerCommentSaving[order.id]"></bar-spinner>\r\n                    </td>\r\n                    <td ng-if="!order.month_header"><a href="{{ order.url }}" target="_blank">Manage</a></td>\r\n                </tr>\r\n                <tr class="extra-placeholder"><td colspan="42"></td></tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n'},311:function(e,n){e.exports='<div id="export">\r\n    <top-bar>\r\n        <h2 class="top-bar__title">Caravans Schedule Exports</h2>\r\n    </top-bar>\r\n\r\n    <messages></messages>\r\n\r\n    <table>\r\n        <thead>\r\n            <tr>\r\n                <th>Type</th>\r\n                <th>Parameters</th>\r\n                <th>Export</th>\r\n            </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n            <tr>\r\n                <td>Export Series Details as CSV</td>\r\n                <td>\r\n                    <p>With Avereage Tare weight and Ball weight</p>\r\n                </td>\r\n                <td>\r\n                    <a class="btn btn-default" target="_blank"\r\n                            href="/export/schedule/series-avg-csv">\r\n                        Export\r\n                    </a>\r\n                </td>\r\n            </tr>\r\n\r\n            <tr>\r\n                <td>Export Schedule as CSV</td>\r\n                <td>\r\n                    <div class="col-sm-6">\r\n                        <label>Date From: </label>\r\n                        <input id=\'exportScheduleCSV_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\r\n                        <input id=\'exportScheduleCSV_dateFrom\' hidden ng-model="exportScheduleCSV.dateFrom" no-dirty-check ng-change="validateDates(exportScheduleCSV)" />\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <label> Date To: </label>\r\n                        <input id=\'exportScheduleCSV_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\r\n                        <input id=\'exportScheduleCSV_dateTo\' hidden ng-model="exportScheduleCSV.dateTo" no-dirty-check ng-change="validateDates(exportScheduleCSV)" />\r\n                    </div>\r\n                    <div class="text-danger" ng-if="exportScheduleCSV.invalidDates">\r\n                        The start date cannot be greater than the end date.\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <a ng-if="!exportScheduleCSV.invalidDates" class="btn btn-default" target="_blank"\r\n                            href="/export/schedule/schedule-csv/1/{{ exportScheduleCSV.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ exportScheduleCSV.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\r\n                        Export\r\n                    </a>\r\n                    <button ng-if="exportScheduleCSV.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\r\n                </td>\r\n            </tr>\r\n\r\n             <tr>\r\n                <td>Export Specs as PDF</td>\r\n                <td>\r\n                    <div class="col-sm-6">\r\n                        <label>Select Month </label>\r\n                        <input id=\'exportSpecsPDF_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\r\n                        <input id=\'exportSpecsPDF_dateFrom\' hidden ng-model="exportSpecsPDF.dateFrom" no-dirty-check ng-change="validatePDFDates(exportSpecsPDF)" />\r\n                    </div>\r\n                </td>\r\n                \r\n                <td>\r\n                    <a ng-if="exportSpecsPDF.invalidDates" class="btn btn-default" target="_blank"\r\n                            href="/export/schedule/specs-pdf/1/{{ exportSpecsPDF.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\r\n                        Export\r\n                    </a>\r\n            <button ng-if="!exportSpecsPDF.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\r\n            </td>\r\n            </tr>\r\n\r\n            <tr ng-repeat="exp in contractorExports.list">\r\n                <td>{{ exp.name }}</td>\r\n                <td rowspan="{{ contractorExports.list.length }}" ng-if="$first">\r\n                    <div class="col-sm-6">\r\n                        <label>Date From: </label>\r\n                        <input id=\'contractorExports_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\r\n                        <input id=\'contractorExports_dateFrom\' hidden ng-model="contractorExports.dateFrom" no-dirty-check ng-change="validateDates(contractorExports)" />\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <label> Date To: </label>\r\n                        <input id=\'contractorExports_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\r\n                        <input id=\'contractorExports_dateTo\' hidden ng-model="contractorExports.dateTo" no-dirty-check ng-change="validateDates(contractorExports)" />\r\n                    </div>\r\n                    <div class="text-danger" ng-if="contractorExports.invalidDates">\r\n                        The start date cannot be greater than the end date.\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <a ng-if="!contractorExports.invalidDates" class="btn btn-default" target="_blank"\r\n                            href="/export/schedule/contractor/1/{{ exp.id }}/{{ contractorExports.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ contractorExports.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\r\n                        Export</a>\r\n                    <button ng-if="contractorExports.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\r\n                </td>\r\n            </tr>\r\n\r\n        </tbody>\r\n    </table>\r\n    \r\n</div>\r\n'},312:function(e,n){e.exports='<div id="planner">\r\n    <top-bar>\r\n        <h2 class="top-bar__title">Caravans Schedule Planner</h2>\r\n    </top-bar>\r\n\r\n    <messages></messages>\r\n\r\n    <table>\r\n        <thead>\r\n            <tr>\r\n                <th>Production Month</th>\r\n                <th>Start Production</th>\r\n                <th>Production capacity</th>\r\n                <th>Month status</th>\r\n                <th>Number of orders</th>\r\n                <th>Lock down date</th>\r\n                <th>Drafting completion</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr ng-repeat="month_data in all_data">\r\n                <td>{{ month_data.production_month | date: AppSettings.FORMAT_DATE_MONTH_JS}}</td>\r\n                <td>\r\n                    <div class="input-group date-group">\r\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.production_start_date"\r\n                               ng-model="month_data.production_start_date" close-text="Close"\r\n                               datetimepicker-neutral-timezone init-date="month_data.initialValue"\r\n                               ng-readonly="!permissions.change_schedule_planner" />\r\n\r\n                        <span class="input-group-btn">\r\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.production_start_date = true"\r\n                                    ng-disabled="!permissions.change_schedule_planner"><i\r\n                                    class="glyphicon glyphicon-calendar"></i></button>\r\n                        </span>\r\n                    </div>\r\n\r\n                </td>\r\n                <td ng-class="month_data.capacity < month_data.total_orders ? \'alert-danger\' : \'\'">{{ month_data.capacity }}</td>\r\n                <td><label><input type="checkbox" ng-model="month_data.closed" /> Closed</label></td>\r\n                <td ng-class="month_data.capacity < month_data.total_orders ? \'alert-danger\' : \'\'">{{ month_data.total_orders }}</td>\r\n                <td>\r\n                    <div class="input-group date-group" ng-if="!month_data.sign_off_reminder_sent">\r\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.sign_off_reminder"\r\n                               ng-model="month_data.sign_off_reminder" close-text="Close"\r\n                               datetimepicker-neutral-timezone\r\n                               ng-readonly="!permissions.change_schedule_planner" />\r\n\r\n                        <span class="input-group-btn">\r\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.sign_off_reminder = true"\r\n                                    ng-disabled="!permissions.change_schedule_planner"><i\r\n                                    class="glyphicon glyphicon-calendar"></i></button>\r\n                        </span>\r\n                    </div>\r\n                    <div ng-if="month_data.sign_off_reminder_sent">\r\n                        Email has been sent on {{ month_data.sign_off_reminder | date: AppSettings.FORMAT_DATE_JS }}\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <div class="input-group date-group">\r\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.draft_completion"\r\n                               ng-model="month_data.draft_completion" close-text="Close"\r\n                               datetimepicker-neutral-timezone\r\n                               ng-readonly="!permissions.change_schedule_planner" />\r\n\r\n                        <span class="input-group-btn">\r\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.draft_completion = true"\r\n                                    ng-disabled="!permissions.change_schedule_planner"><i\r\n                                    class="glyphicon glyphicon-calendar"></i></button>\r\n                        </span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="footer">\r\n        <button ng-if="permissions.change_schedule_planner" class="btn btn-primary btn-lg btn-danger" ng-click="save()">Save changes</button>\r\n    </div>\r\n</div>\r\n';
},313:function(e,n){e.exports='<nav class="navbar navbar-default navbar-content">\n        <!-- Brand and toggle get grouped for better mobile display -->\n        <div class="navbar-header">\n            <button type="button"\n                    class="navbar-toggle collapsed"\n                    data-toggle="collapse"\n                    data-target="#bs-example-navbar-collapse-1"\n                    aria-expanded="false">\n                <span class="sr-only">Toggle navigation</span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n            </button>\n            <span class="navbar-brand">\n                <img src="/static/newage/icons/factory-schedule.png" />\n                Caravans\n                <span class="glyphicon glyphicon-menu-right"></span>\n            </span>\n        </div>\n        <!-- Collect the nav links, forms, and other content for toggling -->\n        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n            <ul class="nav navbar-nav">\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule.dashboard">Dashboard</a></li>\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule.transportdashboard">Production Dashboard</a></li>\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule.statusdashboard">Production Dashboard - Status</a></li>\n                <li><a ng-if="permissions.view_schedule_capacity" ui-sref="schedule.capacity">Production Capacity</a></li>\n                <li><a ng-if="permissions.view_schedule_planner" ui-sref="schedule.planner">Schedule Planner</a></li>\n                <li><a ng-if="permissions.export_schedule" ui-sref="schedule.export">Export</a></li>\n            </ul>\n        </div><!-- /.navbar-collapse -->\n</nav>\n\n<div ui-view></div>\n\n'},314:function(e,n){e.exports='    \r\n<div id="transport_dashboard">\r\n    <top-bar>\r\n        <h2 class="top-bar__title">Caravans Production Dashboard</h2>\r\n    </top-bar>\r\n\r\n    <messages>{{ order.messages }}</messages>\r\n\r\n    <div class="row header" >\r\n        <div class="col-sm-2">\r\n            <label>Month: </label>\r\n                <input id=\'chosen_month_show\' type="text" class="form-control" />\r\n                <input id=\'chosen_month\' hidden ng-model="currentMonth" no-dirty-check />\r\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\r\n        </div>\r\n        <div class="col-sm-2">\r\n            <label>Filter: </label>\r\n            <input ng-model="searchStr" placeholder="Type to filter on Order, Customer, Dealership or Chassis..." size="60" />      \r\n        </div>\r\n\r\n        <div class="col-sm-5 pull-right">\r\n            <label>Status Summary: </label>\r\n            <table border="2" width="50%">               \r\n                <tr>\r\n                    <!-- <th rowspan=3 align=\'center\'> <center> Status <p> Summary</b></th> -->\r\n                    <th align=\'center\'> <a href ng-click="filterchassis()">  <center>  Chassis  </b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="filterbuilding()"> <center>  Building</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="filterprewire()"> <center>  Pre-Wire</b> </a></th>\r\n                        <th align=\'center\'> <a href ng-click="filterplumbing()"> <center> Plumbing</b> </a></th>\r\n                    <th align=\'center\'>  <a href ng-click="filteraluminium()"> <center>  Aluminium / Fit Off </b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="filterfinishing()"><center>  Finishing</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="filterdetailing()"><center>  Detailing Canopy</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="filterwatertest()"><center>  Water Testing</b></a></th>\r\n                     \r\n                   \r\n                    <th align=\'center\'> <a href ng-click="filterfinalqc()"> <center> <b> QC </b></a> </th> \r\n                    <th align=\'center\'>   <a href ng-click="filterreadyfordispatch()"> <center>  <b> Ready For <br> Dispatch </b> </a></th> \r\n                    <th align=\'center\'> <a href ng-click="testfilterfun()"> <center>  Dispatched </b> </a> </th>\r\n                </tr>\r\n\r\n                <tr>   \r\n                    \r\n                    \r\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4>     <b> {{  countList.chassis_count }} </b> <br> </h4>\r\n                      </h3>\r\n                    </td>   \r\n\r\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4>     <b>{{  countList.building_count }} </b>  </h4>\r\n                    </td>\r\n\r\n                     <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4>     <b>{{  countList.prewire_count }} </b>  </h4>\r\n                    </td>\r\n\r\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4>     <b>{{  countList.plumbing_count }} </b>  </h4>\r\n                    </td>   \r\n\r\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4>  <b>{{  countList.aluminium_count }} </b>   </h4>\r\n                    </td>   \r\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4>    <b> {{  countList.finishing_count }} </b>  </h4> \r\n                    </td>  \r\n                    \r\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4>    <b> {{  countList.detailing_count }} </h4>\r\n                    </td>   \r\n                    \r\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4>    <b> {{  countList.water_test_count }}  </b>  </h4>  \r\n                    </td>   \r\n                     \r\n                   \r\n                     \r\n\r\n                    <td style="background-color:#FFD700" align=\'center\' rowspan="2"> \r\n                        <h4>  <b>  {{  countList.final_qc_count }}   </b>   </h4> \r\n                    </td> \r\n                    <td style="background-color:#33ff33" align=\'center\'rowspan="2"> \r\n                    \r\n                     <h4><b>{{  countList.ready_for_dispatch_count }} <b>  </b>  </h4>  \r\n                    </td>   \r\n                    <td style="background-color:#C0C0C0" align=\'center\'rowspan="2">\r\n                      <h4><b> {{  countList.dispatched_count }}  </b> </h4>  \r\n                       \r\n                    </td>   \r\n                    \r\n                </tr>\r\n                \r\n                <tr></tr>\r\n                 <tr>                   \r\n                    \r\n                <th align=\'center\'> <a href ng-click="export_chassis()" target="_blank">  <center>  Export  </b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="export_building()" target="_blank"> <center>  Export</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="export_prewire()" target="_blank"> <center>  Export</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="export_plumbing()" target="_blank"> <center>  Export</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="export_aluminium()" target="_blank"> <center>  Export</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="export_finishing()" target="_blank"><center>  Export</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="export_detailing()" target="_blank"><center>  Export</b> </a></th>\r\n                    <th align=\'center\'> <a href ng-click="export_watertesting()" target="_blank"><center>  Export</b> </a></th>\r\n                    \r\n                    <th align=\'center\'> <a href ng-click="export_finalqc()" target="_blank"> <center> <b> Export </b></a> </th> \r\n                    <th align=\'center\'> <a href ng-click="export_ready_dispatch()" target="_blank"> <center>  <b> Export  </b> </a></th> \r\n                    <th align=\'center\'> <a href ng-click="export_dispatched()" target="_blank"> <center>  Export </b> </a> </th>\r\n                </tr>  \r\n                 <tr><th align=\'center\' colspan="12"> <a href ng-click="export_all()" target="_blank"> <center> <b> Export All </b></a> </th> </tr>  \r\n            </table> \r\n        </div>\r\n\r\n        <div class="col-sm-2 pull-right">\r\n            <div class="spinner-container"><bar-spinner ng-if="assignProductionDatesLoading"></bar-spinner></div>\r\n        </div>\r\n        <div class="col-sm-1 pull-right">\r\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\r\n        </div>\r\n        <div ng-if="permissions.finalize_order" class="col-sm-1 pull-right"> \r\n            <div class="spinner-container" ng-if="lockCmdInitiated"><bar-spinner></bar-spinner></div> \r\n        </div>      \r\n    </div>\r\n    <div class="row content">\r\n        <table>\r\n            <thead>\r\n                <tr ng-if="isSortingAllowed()"> \r\n                    \r\n                    <th>Sch. No.</th>                               <!-- 1 --> \r\n                    \r\n                    <th>Status </th>                        <!-- 22 --> \r\n                    <th>Manage</th>                                 <!-- 21 --> \r\n                    <th>Hold / Release</th>                          <!-- 20 -->\r\n                    <th>Chassis </th>                               <!-- 2 --> \r\n                    <th>Order # </th>                               <!-- 3 --> \r\n                    <th>Series Code</th>                            <!-- 4 --> \r\n                    <th>Dealership</th>                             <!-- 5 --> \r\n                    <th>On-Line <br>Date  </th>                         <!-- 6 --> \r\n                    <th>Off-Line <br>Date  </th>                        <!-- 6 --> \r\n                    <th>Actual Production  </th>                    <!-- 7 --> \r\n                      <!--  <th class="comments"> Production Comments</th>8 --> \r\n                    <th>Chassis  </th>                              <!-- 9 -->\r\n                    <th>Chassis Comments</th>                       <!-- 10 -->\r\n                    <th>Building  </th>                             <!-- 11 -->\r\n                    <th>Building Comments</th>                      <!-- 12 -->\r\n                    <th>Pre-Wire  </th>                             <!-- 12 -->\r\n                    <th>Pre-Wire Comments</th>                      <!-- 14 -->\r\n                    <th>Plumbing  </th>                             <!-- 12 -->\r\n                    <th>Plumbing Comments</th>                      <!-- 14 -->\r\n                    <th>Aluminium / Fit Off </th>                   <!-- 14 -->\r\n                    <th>Aluminium Comments</th>                     <!-- 15 -->\r\n                    <th>Finishing  </th>                            <!-- 16 -->\r\n                    <th>Finishing Comments</th>                     <!-- 17 -->\r\n                    <th>Detailing Canopy </th>                      <!-- 16 -->\r\n                    <th>Detailing Canopy Comments</th>              <!-- 17 -->\r\n                    <th>Water Test  </th>                           <!-- 16 -->\r\n                    <th>Water Test Comments</th>                    <!-- 17 -->\r\n                    <!-- <th>Planned QC</th>  -->                   <!-- 18 -->\r\n                    <!-- <th> QC </th> -->                                   <!-- 19 --> \r\n                    <!-- <th> QC Comments</th> -->                           <!-- 20 --> \r\n                    <!-- Temporarily Disabled as per client request -->\r\n                    <!-- <th>Actual Water Testing </th> -->                 <!-- 21 --> \r\n                    <!-- <th class="comments"> Water Test Comments</th> --> <!-- 22 --> \r\n                    <!-- Final QC is changed to display as QC and QC Comments -->\r\n                    <th> QC</th>                               <!-- 23 --> \r\n                    <th class="comments"> QC Comments</th>     <!-- 24 --> \r\n                    <th>Actual Dispatch</th>                        <!-- 26 --> \r\n                    <th class="comments">Dispatch Comments</th>     <!-- 27 --> \r\n                </tr>\r\n            </thead>\r\n            <tbody ui-sortable="sortableOptions" ng-model="orderList">\r\n         <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'"> \r\n                <!-- 1 --> \r\n                    <td ng-if="!order.month_header">\r\n                        {{ order.index }} \r\n                    </td>\r\n                    <!-- 2 -->   \r\n                \r\n                       <!-- 2 -->   \r\n                <td ng-if="!order.month_header">     \r\n                                    \r\n\r\n                       <div ng-if="order.order_status==\'Ready For Production\'">\r\n                            <div> \r\n                                <label style="background-color:#ffffff;height:25px" class="item item-text-wrap"> Ready For Production    </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div ng-if="order.order_status==\'Awaiting-Production\'">\r\n                            <label style="background-color:#FF4500" class="item item-text-wrap"> Awaiting-Production    </label>\r\n                        </div>\r\n                        <div ng-if="order.order_status==\'Awaiting Production\'">\r\n                            <label style="background-color:#ffff17" class="item item-text-wrap">Awaiting Production    </label>\r\n                        </div>\r\n\r\n                        <div ng-if="order.order_status==\'Chassis\'">\r\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Chassis      \r\n                            </label>\r\n                        </div>\r\n\r\n                        <div ng-if="order.order_status==\'Building\'">\r\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Building     </label>\r\n                        </div>\r\n\r\n                        <div ng-if="order.order_status==\'Prewire\'">\r\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Pre-wire      </label>\r\n                        </div>\r\n\r\n                        <div ng-if="order.order_status==\'Plumbing\'">\r\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Plumbing      </label>\r\n                        </div>\r\n\r\n                        <div ng-if="order.order_status==\'Aluminium\'">\r\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Aluminium / Fit Off    </label>\r\n                        </div>\r\n\r\n                        <div ng-if="order.order_status==\'Finishing\'">\r\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Finishing     </label>\r\n                        </div>\r\n\r\n                          <div ng-if="order.order_status==\'Detailing\'">\r\n                        <label style="background-color:#FFD700" class="item item-text-wrap">  Detailing Canopy  </label>\r\n                        </div>\r\n\r\n                          <div ng-if="order.order_status==\'Water Testing\'">\r\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Water Testing </label>\r\n                        </div>\r\n\r\n\r\n                         \r\n                       <!--   <div ng-if="order.order_status==\'QC Canopy\'">\r\n                            <label style="background-color:#FF4500" class="item item-text-wrap"> QC </label>\r\n                        </div> -->\r\n                         \r\n                        <!-- Fromt Backend receive as Final QC only  -->\r\n                        <div ng-if="order.order_status==\'Final QC\'">\r\n                            <label style="background-color:#FFD700" class="item item-text-wrap">   QC     </label>\r\n                        </div>\r\n                        \r\n                        <div ng-if="order.order_status==\'Ready For Dispatch\'">\r\n                            <label style="background-color:#00FF00" class="item item-text-wrap"> Ready For Dispatch     </label>\r\n                        </div>\r\n                        \r\n                        <div ng-if="order.order_status==\'Dispatched\'">\r\n                            <div> \r\n                                <label style="background-color:#D3D3D3;height:25px" class="item item-text-wrap"> Dispatched    </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div ng-if="order.hold_caravans==1">\r\n                            <div> \r\n                                <label style="background-color:#ffffff;height:25px" class="item item-text-wrap"> On Hold Caravan   </label>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </td>\r\n \r\n\r\n\r\n\r\n\r\n                     \r\n\r\n                     <!-- 3 -->   \r\n                    <td ng-if="!order.month_header">\r\n                        <a href="{{ order.url }}" target="_blank">Manage </a>\r\n                    </td> \r\n                    <!-- 4 -->    \r\n                    \r\n                    <td ng-if="!order.month_header">\r\n                     \r\n                        <div ng-show="order.hold_caravans==0">\r\n                        <input type="checkbox" id="cb10" ng-model="hold_caravans_cur" name="hold_caravans_cur"   ng-checked="false" ng-change="hold_caravans_cur ? hold_order_fun(order) :  !hold_order_fun(order) "/>\r\n                        <h5>  Hold  </h5> \r\n                        </div>\r\n\r\n                        <div ng-show="order.hold_caravans==1">\r\n                        <input type="checkbox" id="cb11" ng-model="hold_caravans_cur" name="hold_caravans_cur"   ng-checked="true" ng-click="hold_order_fun(order)"/>\r\n                        <h5>  Release   </h5> \r\n                        </div>\r\n                        \r\n                    </td>\r\n                    \r\n               \r\n\r\n                \r\n                <!-- 5 --> \r\n                    <td ng-if="!order.month_header" >\r\n                        {{ order.chassis }}\r\n                    </td>\r\n                <!-- 6 --> \r\n                    <td ng-if="!order.month_header" >\r\n                        {{ order.order_id }}\r\n                    </td>\r\n                <!-- 7 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        {{ order.model_series }}\r\n                    </td>\r\n\r\n                <!-- 8 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        {{ order.dealership }} \r\n                    </td>\r\n                <!-- 9 -->\r\n                    <td ng-if="!order.month_header">\r\n                        {{ order.production_date | date: AppSettings.FORMAT_DATE_WEEKDAY_JS }}\r\n                    </td>\r\n                <!-- 10 -->    \r\n                    <td ng-if="!order.month_header"> \r\n                        <div> {{ order.planned_dates.planned_dispatch_date | date : \'dd-MM-yyyy\' }} </div>\r\n                        <!-- <div ng-if="!order.planned_dispatch_date">\r\n                            {{ plandispdate[order.id] | date : \'dd-MM-yyyy\' }} \r\n                        </div> -->\r\n                    </td>\r\n\r\n                <!-- 11 --> \r\n                \r\n                    <td ng-if="!order.month_header">\r\n                        <div>\r\n                            {{ order.actual_production_date | date : \'dd-MM-yyyy\' }}\r\n                        </div>\r\n                        <div ng-if="!order.actual_production_date">\r\n                            <input type="checkbox" id=\'actual_prod\'  ng-model="actual_prod" ng-change="actual_prod ? checkproddate(order) : !checkproddate(order)" >  \r\n                            <div ng-show="actual_prod">\r\n                                <label id="lblproddate" name="lblproddate" class="item item-text-wrap">\r\n                                    <h5>{{ getTodaysDate | date :"dd-MM-yyyy" }}</h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>    \r\n                    <bar-spinner ng-if="actual_prod_date_loading[order.id]"></bar-spinner>          \r\n                    </td>\r\n\r\n                <!-- 8 \r\n                    <td ng-if="!order.month_header"> \r\n\r\n                        <input type="text" ng-model="order.prod_comments_from" ng-blur="onProdCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.prod_comments_from }}" />\r\n                        <bar-spinner ng-if="prodCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n                -->\r\n                <!-- 12 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div > {{ order.chassis_section | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.chassis_section">\r\n                            <input type="checkbox" id=\'chassis_section_chkbox\'  ng-model="chassis_section_chkbox" ng-change="chassis_section_chkbox ? isSectionDateChanged(order) : !isSectionDateChanged(order)" >  \r\n                            <div ng-show="chassis_section">\r\n                                <label id="lblsecdate" name="lblsecdate" class="item item-text-wrap"> \r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="chassis_section_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                <!-- 13 -->    \r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.chassis_section_comments" ng-blur="onChasisSectionCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.chassis_section_comments }}" />\r\n                        <bar-spinner ng-if="onChasisSectionCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n\r\n\r\n                <!-- 14 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div > {{ order.building | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.building">\r\n                        <input id="building_chkbox" type="checkbox" ng-model="building_chkbox" ng-change="building_chkbox ? isBuildingDateChanged(order) : !isBuildingDateChanged(order)" >  \r\n                            <div ng-show="building">\r\n                                <label id="lblbuilddate" name="lblbuilddate" class="item item-text-wrap"> \r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="building_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                <!-- 15 -->    \r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.building_comments" ng-blur="onBuildingCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.building_comments }}" />\r\n                        <bar-spinner ng-if="onBuildingCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n                <!-- 16 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div > {{ order.prewire_section | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.prewire_section">\r\n                        <input id="prewire_chkbox" type="checkbox" ng-model="prewire_chkbox" ng-change="prewire_chkbox ? isPrewireDateChanged(order) : !isPrewireDateChanged(order)" >  \r\n                            <div ng-show="prewire_section">\r\n                                <label id="lblprewiredate" name="lblprewiredate" class="item item-text-wrap"> \r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="prewire_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                <!-- 17 -->    \r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.prewire_comments" ng-blur="onPrewireCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.prewire_comments }}" />\r\n                        <bar-spinner ng-if="onPrewireCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n                    \r\n                      <!-- 16 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div > {{ order.plumbing_date | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.plumbing_date">\r\n                        <input id="plumbing_chkbox" type="checkbox" ng-model="plumbing_chkbox" ng-change="plumbing_chkbox ? isPlumbingDateChanged(order) : !isPlumbingDateChanged(order)" >  \r\n                            <div ng-show="plumbing_date">\r\n                                <label id="lblplumbingdate" name="lblplumbingdate" class="item item-text-wrap"> \r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="plumbing_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                <!-- 17 -->    \r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.plumbing_comments" ng-blur="onPlumbingCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.plumbing_comments }}" />\r\n                        <bar-spinner ng-if="onPlumbingCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n                \r\n\r\n                <!-- 18 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div > {{ order.aluminium_date | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.aluminium_date">\r\n                            <input id="aluminium_chkbox" type="checkbox"   ng-model="aluminium_chkbox" ng-change="aluminium_chkbox ? isAluminiumDateChanged(order) : !isAluminiumDateChanged()" >  \r\n                            <div ng-show="aluminium_chkbox">\r\n                                <label id="lblaludate" name="lblaludate" class="item item-text-wrap"> \r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="aluminium_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                <!-- 19 -->    \r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.aluminium_comments" ng-blur="onAluminiumCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.aluminium_comments }}" />\r\n                        <bar-spinner ng-if="onAluminiumCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n\r\n                <!-- 20 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div > {{ order.finishing | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.finishing">\r\n                            <input id=\'finishing_chkbox\' type="checkbox"   ng-model="finishing_chkbox" ng-change="finishing_chkbox ? isFinishingDateChanged(order) : !isFinishingDateChanged()" >  \r\n                            <div ng-show="finishing_chkbox">\r\n                                <label id="lblfindate" name="lblfindate" class="item item-text-wrap"> \r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="finishing_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                <!-- 21 -->    \r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.finishing_comments" ng-blur="onFinishingCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.finishing_comments }}" />\r\n                        <bar-spinner ng-if="onFinishingCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n\r\n                     <!-- 22 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div > {{ order.detailing_date | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.detailing_date">\r\n                            <input id=\'detailing_chkbox\' type="checkbox"   ng-model="detailing_chkbox" ng-change="detailing_chkbox ? isDetailingDateChanged(order) : !isDetailingDateChanged()" >  \r\n                            <div ng-show="detailing_chkbox">\r\n                                <label id="lbldetailingdate" name="lbldetailingdate" class="item item-text-wrap">\r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="detailing_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                <!-- 23 -->   \r\n\r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.detailing_comments"  \r\n                        ng-blur="onDetailingCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.detailing_comments }}" />\r\n                        <bar-spinner ng-if="onDetailingCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n\r\n                    <!-- 24 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div > {{ order.watertest_date | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.watertest_date">\r\n                            <input id=\'watertest_chkbox\' type="checkbox"   ng-model="watertest_chkbox" ng-change="watertest_chkbox ? isWatertestDateChanged(order) : !isWatertestDateChanged()" >  \r\n                            <div ng-show="watertest_chkbox">\r\n                                <label id="lblwaterdate" name="lblwaterdate" class="item item-text-wrap"> \r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="watertest_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                <!-- 25 -->    \r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.watertest_comments" ng-blur="onWaterTestCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.watertest_comments }}" />\r\n                        <bar-spinner ng-if="onWatertestCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n\r\n                <!-- 26 -->    \r\n                <!-- Client has requested to remove this in 1 Dec 2020 They might change their minds again  -->\r\n                <!-- Also henceforth record final qc date and comments in both actual qc date and comments.  -->\r\n                <!-- So we block this out -->\r\n                    <!-- <td ng-if="!order.month_header">\r\n                        <div >  {{ order.actual_qc_date | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.actual_qc_date">\r\n                            <input type="checkbox" id=\'actual_qc\'  ng-model="actual_qc" ng-change="actual_qc ? checkactualqc(order) : !checkactualqc(order)" >  \r\n                            <div ng-show="actual_qc">\r\n                                <label id="lblqcdate" name="lblqcdate" class="item item-text-wrap"> \r\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="actual_qc_date_loading[order.id]"></bar-spinner>               \r\n                    </td>\r\n                \r\n                 \r\n                    <td ng-if="!order.month_header">                \r\n                        <input type="text" ng-model="order.qc_comments_from" ng-blur="onQCCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.qc_comments_from }}" />\r\n                        <bar-spinner ng-if="qcCommentLoading[order.id]"></bar-spinner>\r\n                    </td> - -->\r\n                             \r\n                \r\n                <!-- 28 -->    \r\n                    <td ng-if="!order.month_header">                  \r\n                        <div > {{ order.final_qc_date | date:\'dd-MM-yyyy\' }} </div>                   \r\n\r\n                        <div ng-if = "checkweights(order)">\r\n                        <font face="Arial" color=\'red\'>Set Weights\r\n                        </font>  \r\n                        </div>\r\n                        <div ng-if = "checkallweights(order)"> \r\n                            <div ng-if="!order.final_qc_date">   \r\n                                <input id="final_qc" type="checkbox" ng-model="final_qc" ng-change="final_qc ? checkfinalqcfun(order) : !checkfinalqcfun(order)">  \r\n                                <div ng-show="final_qc">\r\n                                    <label class="item item-text-wrap"> \r\n                                        <h5> {{ getTodaysDate | date :"dd-MM-yyyy" }} </h5> \r\n                                    </label> \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <bar-spinner ng-if="final_qc_date_loading[order.id]"></bar-spinner> \r\n                    </td>\r\n                <!-- 29 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <input type="text" ng-model="order.final_qc_comments" ng-blur="onFinalQCCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value=" Hello!" + "{{ order.final_qc_comments }}" />\r\n                        <bar-spinner ng-if="FinalQCCommentLoading[order.id]"></bar-spinner> \r\n                    </td>\r\n\r\n\r\n\r\n                \r\n                <!-- 30 -->    \r\n                    <td ng-if="!order.month_header">\r\n                        <div> {{ order.actual_dispatch_date | date : \'dd-MM-yyyy\' }} </div>\r\n                        <div ng-if="!order.actual_dispatch_date"> \r\n                            <input type="checkbox" ng-model="actual_dispatch" ng-change="actual_dispatch ? checkdatefun(order) : !checkdatefun1(order)"> \r\n                            <div ng-show="actual_dispatch">\r\n                                <label class="item item-text-wrap"  >\r\n                                    <h5> {{ getTodaysDate | date :"dd-MM-yyyy" }} </h5> \r\n                                </label>\r\n                            </div>\r\n                             \r\n                        </div>\r\n                        <bar-spinner ng-if="actual_dispatch_date_loading[order.id]"></bar-spinner> \r\n                    </td>\r\n                    \r\n                    <!-- 31 -->    \r\n                    <td ng-if="!order.month_header" class="comments">\r\n                        <input class="input-comments" type="text" placeholder="Enter Dispatch Comments..." maxlength="2000" ng-model="order.dispatch_comments" ng-blur="onDispatchCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.dispatch_comments }}"  />\r\n                        <bar-spinner ng-if="dispatchCommentLoading[order.id]"></bar-spinner>\r\n                    </td>\r\n                 \r\n\r\n                    \r\n                    \r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal fade" id="moveOrderModal">\r\n   <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n                    <span aria-hidden="true">&times;</span>\r\n                </button>\r\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\r\n            </div>\r\n            <div class="modal-body">\r\n                <form name="move_orders_form">\r\n\r\n                    <div class="row move_orders">\r\n                        <span class="col-md-4 col-md-offset-2">\r\n                            <label>Schedule Month </label>\r\n                            <select ng-model="move_month" ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\r\n                              no-dirty-check>\r\n                                <option value="">Select</option>\r\n                            </select>\r\n                        </span>\r\n                        <span class="col-md-3">\r\n                            <label> Order Position</label>\r\n                            <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\r\n                        </span>\r\n                    </div>\r\n                </form>\r\n\r\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd()">Move</button>\r\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n';
},315:function(e,n){e.exports='<div id="transport_dashboard">\r\n    \r\n    <top-bar>\r\n        <h2 class="top-bar__title">Delay Dashboard</h2>\r\n    </top-bar>\r\n\r\n    <messages>{{ order.messages }}</messages>\r\n</div>\r\n\r\n<div id="delay_dashboard_status">\r\n    \r\n    <div class="content">\r\n       \r\n        <table style="table-layout:auto">\r\n            <thead>\r\n                <tr>\r\n                    <th style="background-color: #f49e95">Serial No</th>\r\n\r\n                    <th style="background-color: #f49e95">Production Month</th>\r\n\r\n                    <th style="background-color: #f49e95">Schedule No</th>                                              \r\n                    <th style="background-color: #f49e95">Order Id </th>                                              \r\n                    <th style="background-color: #f49e95">Manage</th>                          \r\n                    <th style="background-color: #f49e95">Model Series</th>                          \r\n                    <th style="background-color: #f49e95">Dealership</th> \r\n                    \r\n                    <th style="background-color: #F9F989">Days Delayed <br> Within Production  </th>                       \r\n                    \r\n                    <th style="background-color: #5ee796">Planned Production Date  </th>                <!-- 6 --> \r\n                    <th style="background-color: #5ee796">Planned Dispatch Date  </th>                  <!-- 6 --> \r\n                    <th style="background-color: #5ee796">Actual Production Date  </th>                 <!-- 6 --> \r\n                    <th style="background-color: #5ee796">Days delayed to <br> Start Production </th>                       <!-- 6 --> \r\n                    \r\n                    \r\n                    <th style="background-color: #f9d959">Planned Chassis </th>                          \r\n                    <th style="background-color: #f9d959">Actual Chassis </th>                       \r\n                    <th style="background-color: #f9d959">Chassis Delay </th>\r\n\r\n                    <th style="background-color: #82c0ea">Planned Building  </th>\r\n                    <th style="background-color: #82c0ea">Actual Building  </th>                       \r\n                    <th style="background-color: #82c0ea">Building Delay  </th>                                              \r\n                    <th style="background-color: #c3c6c9">Planned  Pre-Wire  </th>\r\n                    <th style="background-color: #c3c6c9">Actual Pre-Wire  </th>\r\n                    <th style="background-color: #c3c6c9">Pre-Wire Delay  </th>\r\n\r\n                    <th style="background-color: #FA9811">Planned  Plumbing  </th>\r\n                    <th style="background-color: #FA9811">Actual Plumbing  </th>\r\n                    <th style="background-color: #FA9811">Plumbing Delay  </th>\r\n\r\n                    <th style="background-color: #76f4db">Planned Aluminium / <br> Fit Off  </th> \r\n                    <th style="background-color: #76f4db">Actual Aluminium / <br> Fit Off  </th> \r\n                    <th style="background-color: #76f4db"> Aluminium / <br> Fit Off Delay  </th> \r\n\r\n                    <th style="background-color: #d074f4">Planned Finishing  </th>\r\n                    <th style="background-color: #d074f4">Actual Finishing  </th>\r\n                    <th style="background-color: #d074f4">Finishing  </th>\r\n\r\n                    <th style="background-color: #ABB2B9">Planned Detailing Canopy  </th>\r\n                    <th style="background-color: #ABB2B9">Actual Detailing Canopy  </th>\r\n                    <th style="background-color: #ABB2B9">Detailing Canopy Delay  </th>\r\n\r\n                    <th style="background-color: #A9CCE3">Planned Water Testing  </th>                 \r\n                    <th style="background-color: #A9CCE3">Actual Water Testing  </th>                    \r\n                    <th style="background-color: #A9CCE3">Water Testing Delay  </th>                    \r\n\r\n                 <!--    <th style="background-color: #5ee796">Planned QC  </th>\r\n                    <th style="background-color: #5ee796">Actual QC  </th>\r\n                    <th style="background-color: #5ee796"> QC Delay  </th> -->\r\n                    \r\n                    <th style="background-color: #f9d959">Planned QC </th>\r\n                    <th style="background-color: #f9d959">Actual QC </th>\r\n                    <th style="background-color: #f9d959">QC Delay </th>\r\n                     \r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                        <tr>\r\n                        <td colspan="9"></td>\r\n                        <td colspan="3"><a href ng-click="export_delay_all()" target="_blank">  <center> Export All</a></td>\r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_chassis()" target="_blank">  <center>Export Chassis</a>\r\n                        </td>\r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_building()" target="_blank"> Export Building </a>\r\n                        </td>\r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_prewire()" target="_blank"> Export Pre Wire </a>\r\n                        </td>\r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_plumbing()" target="_blank"> Export Plumbing </a>\r\n                        </td>\r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_aluminium()" target="_blank">Export Aluminium </a>\r\n                        </td>\r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_finishing()" target="_blank"> Export Finishing</a>\r\n                        </td>\r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_detailing()" target="_blank"> Export Detailing</a>\r\n                        </td>\r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_watertesting()" target="_blank"> Export Water Testing </a>\r\n                        </td>\r\n                       <!--  <td colspan="3">\r\n                            <a href ng-click="export_delay_actualqc()" target="_blank"> Export Actual QC </a>\r\n                        </td> -->\r\n                            \r\n                        <td colspan="3">\r\n                            <a href ng-click="export_delay_finalqc()" target="_blank"> Export QC </a>\r\n                        </td>\r\n                        </tr>                 \r\n                        <tr ng-repeat="order in delay_list" ng-class-odd="\'odd\'" ng-class-even="\'even\'">               \r\n                        <!-- <tr ng-repeat="order in delay_list | filter: { production_unit : 1 }" ng-class-odd="\'odd\'" ng-class-even="\'even\'">               -->\r\n                                    <td>\r\n                                       {{ $index + 1 }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                       {{ order.production_month  | date : "MMM - yyyy" }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.schno }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.id }}\r\n                                    </td>\r\n\r\n                                     \r\n                                    <td>\r\n                                    <a href="{{ order.url }}" target="_blank"> {{ order.chassis }} </a> \r\n                                    </td>\r\n                                    <td>\r\n                                        {{ order.model }}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{ order.dealership }}\r\n                                    </td>\r\n                                    \r\n\r\n                                     <td>\r\n                                        <div>\r\n                                          <!-- Double Negation in ANgularjs adds the variables values -->  \r\n                                        <div ng-if="order.roll_delay > 0">\r\n                                         <font face="Arial" color=\'green\'><b>{{ order.roll_delay }}</b></font>\r\n                                        </div>\r\n\r\n                                        <div ng-if="order.roll_delay < 0">\r\n                                        <font face="Arial" color=\'red\'><b>{{ order.roll_delay }}</b></font>\r\n                                        </div>\r\n                                        <div ng-if="order.roll_delay == 0">\r\n                                        <font face="Arial" color=\'blue\'><b>{{ order.roll_delay }}</b></font>\r\n                                        </div>\r\n\r\n                                        </b></font>\r\n                                        </div>\r\n \r\n\r\n                                        \r\n                                    </td> \r\n                                    \r\n                                    <td>\r\n                                        {{ order.production_date | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n                                    <td>   \r\n                                        {{ order.planned_dispatch_date | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{ order.actual_production_date | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n                                    \r\n                                    <td>\r\n                                        <div ng-if="order.estimated_delay > 0">\r\n                                         <font face="Arial" color=\'green\'><b>{{ order.estimated_delay }}</b></font>\r\n                                        </div>\r\n\r\n                                        <div ng-if="order.estimated_delay < 0">\r\n                                        <font face="Arial" color=\'red\'><b>{{ order.estimated_delay }}</b></font>\r\n                                        </div>\r\n                                        <div ng-if="order.estimated_delay == 0">\r\n                                        <font face="Arial" color=\'blue\'><b>{{ order.estimated_delay }}</b></font>\r\n                                        </div>\r\n\r\n                                        \r\n                                    </td> \r\n\r\n                                    <td>\r\n                                        {{ order.planned_chassis | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                     <td>\r\n                                        {{ order.actual_chassis | date : \'dd-MM-yyyy\' }}\r\n                                     </td>\r\n\r\n                                    <td>\r\n                                        <div ng-if="order.chassis_delay > 0">\r\n                                                 \r\n                                         <font face="Arial" color=\'green\'><b>{{ order.chassis_delay }}</b></font>\r\n                                        </div>\r\n                                        \r\n                                        <div ng-if="order.chassis_delay < 0">\r\n                                          \r\n                                         <font face="Arial" color=\'red\'><b>{{ order.chassis_delay }}</b></font>\r\n                                         </div>\r\n\r\n                                         <div ng-if="order.chassis_delay == 0">\r\n                                          \r\n                                         <font face="Arial" color=\'blue\'><b>{{ order.chassis_delay }}</b></font>\r\n                                         </div>\r\n \r\n                                    </td>\r\n\r\n                                    <td>\r\n\r\n                                        {{ order.planned_building | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_building | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        <div ng-if="order.building_delay > 0">\r\n                                                 \r\n                                         <font face="Arial" color=\'green\'><b>\r\n\r\n                                        {{ order.building_delay }}\r\n                                        </b></font>\r\n                                        </div>\r\n                                        \r\n                                        <div ng-if="order.building_delay < 0">\r\n                                          \r\n                                         <font face="Arial" color=\'red\'><b>\r\n\r\n                                            {{ order.building_delay }}</b></font>\r\n                                         </div>\r\n\r\n                                        <div ng-if="order.building_delay == 0">\r\n                                          \r\n                                         <font face="Arial" color=\'blue\'><b>{{ order.building_delay }}</b></font>\r\n                                         </div>\r\n                                    </td>\r\n\r\n\r\n                                    <td>\r\n                                        {{ order.planned_prewire | date : \'dd-MM-yyyy\' }}\r\n                                        \r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_prewire | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        <div ng-if="order.prewire_delay > 0">\r\n                                                 \r\n                                         <font face="Arial" color=\'green\'><b>\r\n\r\n                                        {{ order.prewire_delay }}\r\n                                        </b></font>\r\n                                        </div>\r\n                                         \r\n                                         <div ng-if="order.prewire_delay < 0">\r\n                                          \r\n                                         <font face="Arial" color=\'red\'><b>\r\n\r\n                                            {{ order.prewire_delay }}</b></font>\r\n                                         </div>\r\n\r\n                                         <div ng-if="order.prewire_delay == 0">\r\n                                          \r\n                                         <font face="Arial" color=\'blue\'><b>\r\n                                            {{ order.prewire_delay }}</b></font>\r\n                                         </div>\r\n                                    </td>\r\n\r\n\r\n                                    <td>\r\n                                        {{ order.planned_plumbing | date : \'dd-MM-yyyy\' }}\r\n                                        \r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_plumbing | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        <div ng-if="order.plumbing_delay > 0">\r\n                                         <font face="Arial" color=\'green\'><b>{{ order.plumbing_delay }}</b></font>\r\n                                        </div>\r\n                                        <div ng-if="order.plumbing_delay < 0"> <font face="Arial" color=\'red\'><b>{{ order.plumbing_delay }}</b></font> \r\n                                        </div>\r\n                                         <div ng-if="order.plumbing_delay == 0"> <font face="Arial" color=\'blue\'><b>{{ order.plumbing_delay }}</b></font> \r\n                                        </div>\r\n                                    </td>\r\n\r\n\r\n\r\n                                    <td>\r\n                                        {{ order.planned_aluminium | date : \'dd-MM-yyyy\' }}\r\n                                        \r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_aluminium | date : \'dd-MM-yyyy\' }}\r\n                                        \r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        <div ng-if="order.aluminium_delay > 0">\r\n                                                 \r\n                                         <font face="Arial" color=\'green\'><b>\r\n                                                {{ order.aluminium_delay }}\r\n                                        </b></font>\r\n                                        </div>\r\n                                        \r\n                                        <div ng-if="order.aluminium_delay < 0">\r\n                                        <font face="Arial" color=\'red\'><b> {{ order.aluminium_delay }}</b></font>\r\n                                        </div>\r\n                                        <div ng-if="order.aluminium_delay == 0">\r\n                                        <font face="Arial" color=\'blue\'><b> {{ order.aluminium_delay }}</b></font>\r\n                                        </div>\r\n\r\n                                    </td>\r\n\r\n\r\n\r\n                                    <td>\r\n                                        {{ order.planned_finishing | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_finishing | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n\r\n                                         <div ng-if="order.finishing_delay > 0">\r\n                                                 \r\n                                         <font face="Arial" color=\'green\'><b>\r\n\r\n                                        {{ order.finishing_delay }}\r\n                                        </b></font>\r\n                                        </div>\r\n                                        \r\n                                        <div ng-if="order.finishing_delay < 0">\r\n                                        <font face="Arial" color=\'red\'><b>{{ order.finishing_delay }}</b></font>\r\n                                        </div>\r\n\r\n                                        <div ng-if="order.finishing_delay == 0">\r\n                                        <font face="Arial" color=\'blue\'><b>{{ order.finishing_delay }}</b></font>\r\n                                        </div>\r\n                                    </td>\r\n\r\n\r\n\r\n                                    <td>\r\n                                        {{ order.planned_detailing | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_detailing | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        <div ng-if="order.detailing_delay > 0">\r\n                                                 \r\n                                         <font face="Arial" color=\'green\'><b>\r\n\r\n                                        {{ order.detailing_delay }}\r\n                                        </b></font>\r\n                                        </div>\r\n                                        <div ng-if="order.detailing_delay < 0">\r\n                                        <font face="Arial" color=\'red\'><b>{{ order.detailing_delay }}</b></font>\r\n                                        </div>\r\n                                        <div ng-if="order.detailing_delay == 0">\r\n                                        <font face="Arial" color=\'blue\'><b>{{ order.detailing_delay }}</b></font>\r\n                                        </div>\r\n                                    </td>\r\n\r\n\r\n\r\n                                    <td>\r\n                                        {{ order.planned_watertest | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_watertest | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        <div ng-if="order.watertest_delay > 0">\r\n                                        <font face="Arial" color=\'green\'> <b> {{order.watertest_delay}}</b></font>\r\n                                        </div>\r\n                                        \r\n                                        <div ng-if="order.watertest_delay < 0">\r\n                                        <font face="Arial" color=\'red\'><b>{{ order.watertest_delay }}</b></font>\r\n                                        </div>\r\n\r\n                                        <div ng-if="order.watertest_delay == 0">\r\n                                        <font face="Arial" color=\'blue\'><b>{{ order.watertest_delay }}</b></font>\r\n                                        </div>\r\n                                    </td>\r\n\r\n<!-- \r\n                                    <td>\r\n                                        {{ order.planned_actual_qc | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_qc | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        \r\n                                        <div ng-if="order.actual_qc_delay > 0">\r\n                                        <font face="Arial" color=\'green\'><b> {{ order.actual_qc_delay }}</b></font>\r\n                                        </div>\r\n                                        \r\n                                        <div ng-if="order.actual_qc_delay < 0">\r\n                                        <font face="Arial" color=\'red\'><b>{{ order.actual_qc_delay }}</b></font>\r\n                                        </div>\r\n                                        \r\n                                        <div ng-if="order.actual_qc_delay == 0">\r\n                                        <font face="Arial" color=\'blue\'><b>{{ order.actual_qc_delay }}</b></font>\r\n                                        </div>\r\n                                    </td>\r\n\r\n -->\r\n                                    <td>\r\n                                        {{ order.planned_final_qc | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        {{ order.actual_final_qc | date : \'dd-MM-yyyy\' }}\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        \r\n                                        <div ng-if="order.final_qc_delay > 0">\r\n                                        <font face="Arial" color=\'green\'><b> {{ order.final_qc_delay }} </b></font>\r\n                                        </div>\r\n                                        \r\n                                        <div ng-if="order.final_qc_delay < 0">\r\n                                        <font face="Arial" color=\'red\'><b> {{ order.final_qc_delay }}</b></font>\r\n                                        </div>\r\n\r\n                                        <div ng-if="order.final_qc_delay == 0">\r\n                                        <font face="Arial" color=\'blue\'><b> {{ order.final_qc_delay }}</b></font>\r\n                                        </div>\r\n                                    </td>\r\n\r\n\r\n                                </tr>\r\n                                  \r\n                            <tbody>\r\n                        </table>\r\n                         <p>* Days in <font face=\'Verdana\' color=\'green\'> <b> green color are  positive </b><font>indicate ahead of schedule  \r\n        <p>      ** Days in <font face=\'Verdana\' color=\'red\'> red color</font> with<font face=\'Verdana\' color=\'red\'>  - sign </font> indicate behind schedule\r\n                 \r\n    </div>  \r\n</div>\r\n\r\n\r\n \r\n\r\n\r\n</div>\r\n'},316:function(e,n){e.exports=' \r\n<div id="combined_dashboard">\r\n    <top-bar>\r\n        <h2 class="top-bar__title"> Combined Production Status Summary</h2>\r\n    </top-bar>\r\n\r\n    <messages>{{ order.messages }}</messages>\r\n</div>\r\n\r\n<div id="transport_dashboard_status">\r\n    \r\n    <div class="content">\r\n        <table style="table-layout:fixed;width:125%">\r\n            <thead>\r\n                <tr>                    \r\n                    <th style="background-color: #f49e95">Chassis </th>                          \r\n                    <th style="background-color: #82c0ea">Building  </th>                       \r\n                    <th style="background-color: #c3c6c9">Pre-Wire  </th>                      \r\n                    <th style="background-color: #c3c6c9">Plumbing  </th>                      \r\n                    <th style="background-color: #76f4db">Aluminium / <br> Fit Off  </th> \r\n                    <th style="background-color: #d074f4">Finishing  </th>\r\n                    <th style="background-color: #ABB2B9">Detailing Canopy  </th>\r\n                    <th style="background-color: #A9CCE3">Water Testing  </th>                    \r\n                    \r\n                    <th style="background-color: #f9d959"> QC </th>\r\n                    <th style="background-color: #f2b47f">Ready For Dispatch</th>\r\n                    <th style="background-color: #7ac4f4">Dispatched Today  </th>\r\n                    <th style="background-color: #99abbd">Dispatched Yesterday  </th>\r\n                    <th style="background-color: #a4cfea">Dispatched <br> This Week  </th>\r\n                    <th style="background-color: #c884e5">Dispatched <br> This Month  </th>\r\n                    \r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>  \r\n                    <th style="background-color: #E6B0AA"> {{ total_count.chassis_count }} </th>\r\n\r\n                    <th style="background-color: #AED6F1"> {{ total_count.building_count }} </th>                          \r\n                    <th style="background-color: #E5E7E9"> {{ total_count.prewire_count }} </th>\r\n\r\n                    <th style="background-color: #E5E7E9"> {{ total_count.plumbing_count }} </th>                          \r\n                    <th style="background-color: #A3E4D7"> {{ total_count.aluminium_count }} </th>                          \r\n                    <th style="background-color: #D2B4DE"> {{ total_count.finishing_count }} </th>\r\n\r\n                    <th style="background-color: #ABB2B9"> {{ total_count.detailing_count }} </th>\r\n\r\n                    <th style="background-color: #A9CCE3"> {{ total_count.water_test_count }} </th>\r\n\r\n                    <!-- <th style="background-color: #A9DFBF"> {{ total_count.actual_qc_count }} </th> -->                          \r\n                    \r\n                    <th style="background-color: #F9E79F"> {{ total_count.final_qc_count }} </th>                          \r\n                    \r\n                    <th style="background-color: #F5CBA7"> {{ total_count.actual_dispatch_count1 }} </th>                          \r\n                    <th style="background-color: #A9CCE3"> {{ total_count.today_dispatched_count }} </th>                          \r\n                    <th style="background-color: #ABB2B9"> {{ total_count.yesterday_dispatched_count }} </th>                          \r\n                    <th style="background-color: #D4E6F1"> {{ total_count.this_week_dispatched_count }} </th>                          \r\n                    <th style="background-color: #D7BDE2"> {{ total_count.this_month_dispatched_count }} </th>\r\n                    \r\n                </tr>\r\n                <tr>\r\n                    <th valign="top" style="background-color: #E6B0AA">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody >\r\n                                <tr ng-repeat="chassis in chassis_list" >              \r\n                                    <td>\r\n                                        <a href="{{ chassis.url }}" target="_blank"> {{ chassis.chassis }} </a> \r\n                                        \r\n                                    </td>                          \r\n                                </tr>\r\n                            <tbody>\r\n                        </table>\r\n                    </th>  \r\n                \r\n                    <th valign="top" style="background-color: #AED6F1">\r\n                        <table rules="none"> \r\n                           \r\n                            <tbody>\r\n                                <tr ng-repeat="building in building_list">  \r\n                                    <td>\r\n                                        <a href="{{ building.url }}" target="_blank"> {{ building.chassis}} </a>\r\n                                         \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                    \r\n                    \r\n                    <th valign="top" style="background-color: #E5E7E9">\r\n                        <table rules="none"> \r\n                             \r\n                            <tbody>\r\n                                      \r\n                                <tr ng-repeat="prewire in prewire_list">                         \r\n                                    <td>\r\n                                        <a href="{{ prewire.url }}" target="_blank"> {{ prewire.chassis }} </a> \r\n                                        \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>\r\n\r\n                    <th valign="top" style="background-color: #E5E7E9">\r\n                        <table rules="none"> \r\n                             \r\n                            <tbody>\r\n                                      \r\n                                <tr ng-repeat="plumbing in plumbing_list">                         \r\n                                    <td>\r\n                                        <a href="{{ plumbing.url }}" target="_blank"> {{ plumbing.chassis }} </a> \r\n                                        \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                     \r\n\r\n                    <th valign="top" style="background-color: #A3E4D7">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody> \r\n                                <tr ng-repeat="aluminium in aluminium_list">                          \r\n                                    <td> \r\n                                        <a href="{{ aluminium.url }}" target="_blank"> {{ aluminium.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th> \r\n\r\n                    <th valign="top" style="background-color: #D2B4DE">\r\n                        <table rules="none">\r\n                         \r\n                        <tbody>\r\n                            <tr ng-repeat="finishing in finishing_list">                         \r\n                                <td>\r\n                                    <a href="{{ finishing.url }}" target="_blank"> {{ finishing.chassis }} </a> \r\n                                </td>\r\n                            </tr>\r\n                        </tbody> \r\n                        </table>\r\n                    </th>\r\n\r\n                     <th valign="top" style="background-color: #ABB2B9">\r\n                        <table rules="none">\r\n                         \r\n                        <tbody>\r\n                            <tr ng-repeat="detailing in detailing_list">                         \r\n                                <td>\r\n                                    <a href="{{ detailing.url }}" target="_blank"> {{ detailing.chassis }} </a> \r\n                                </td>\r\n                            </tr>\r\n                        </tbody> \r\n                        </table>\r\n                    </th>   \r\n\r\n\r\n                    <th valign="top" style="background-color: #A9CCE3">\r\n                        <table style="table-layout:fixed" >\r\n                        <col style="width:20%">\r\n                        <col style="width:80%">\r\n                        <tbody>\r\n                            <tr ng-repeat="water_test in water_test_list">                         \r\n                                <td>\r\n                                    <div> \r\n                                        <font face="Arial" color="Black"> <b>*</b>  </font>\r\n                                    </div> \r\n                                </td>\r\n                                <td>\r\n                                    <a href="{{ water_test.url }}" target="_blank"> {{ water_test.chassis }} </a> \r\n                                </td>\r\n                            </tr>\r\n                        </tbody> \r\n                        </table>\r\n                    </th>   \r\n                   \r\n\r\n                    <th valign="top" style="background-color: #F9E79F">\r\n                        <table style="table-layout:fixed" >\r\n                                <col style="width:20%">\r\n                                <col style="width:80%">\r\n                            <tbody>  \r\n                                <tr ng-repeat="final_qc in final_qc_list">                          \r\n                                    <td> \r\n                                        <div ng-if="final_qc.check_weights"> \r\n                                            <span style=\'font-size:14px;color:green\'>&#xbb;</span>   \r\n                                    </div> \r\n                                    <div ng-if="!final_qc.check_weights"> \r\n                                        <span style=\'font-size:14px;color:red\'>&#xbb;</span>   \r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                        <a href="{{ final_qc.url }}" target="_blank"> {{ final_qc.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                    \r\n \r\n                    <th  style="background-color: #F5CBA7;vertical-align: top">\r\n                        <table style="table-layout:fixed;" >\r\n                            <tbody> \r\n                                <!-- email_sent_green_list -->\r\n                            <tr ng-repeat="email_sent_green in email_sent_green_list" style="line-height: auto;">                          \r\n                                    <td style="line-height: auto">        \r\n                                    <div ng-if="email_sent_green.status_red">\r\n                                        \r\n\r\n                        <a href="{{ email_sent_green.url }}" style="color:#FF6347;"  target="_blank" >\r\n                                                     {{ email_sent_green.chassis }} </a>\r\n                                </div>\r\n                                </td>                                  \r\n                                 </tr>   \r\n\r\n                        <tr ng-repeat="email_sent_green in email_sent_green_list"  style="height: 10px;">\r\n                                    \r\n                                    <td style="line-height: auto">\r\n                                    <div ng-if="email_sent_green.status_green" style="line-height: auto"> \r\n                                                                  \r\n                        <a href="{{ email_sent_green.url }}" style="color:#32CD32;" target="_blank"> \r\n                                                                  {{ email_sent_green.chassis }}\r\n                                                              </a>\r\n                                 \r\n                                    </div>\r\n                                </td>\r\n                                </tr>\r\n                            <tr ng-repeat="email_sent_green in email_sent_green_list"  style="line-height: auto;">\r\n                            <td style="line-height: auto">\r\n                            <div ng-if="email_sent_green.status_grey" style="line-height: auto"> \r\n                                    \r\n                                  \r\n                        <a href="{{ email_sent_green.url }}" style="color:#000000;"  target="_blank"> \r\n                                                                  {{ email_sent_green.chassis }}\r\n                                                                   </a> \r\n                                    \r\n                                    </div>\r\n                                </td>\r\n                                </tr>\r\n                            </tbody>\r\n                                </table>\r\n\r\n                    </th>                    \r\n\r\n                    <th valign="top" style="background-color: #A9CCE3">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody> \r\n                        <tr ng-repeat="today_dispatched in today_dispatched_list">                       \r\n                                    <td> \r\n                                        <a href="{{ today_dispatched.url }}" target="_blank"> {{ today_dispatched.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                    \r\n\r\n                    <th valign="top" style="background-color: #ABB2B9">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody> \r\n                    <tr ng-repeat="yesterday_dispatched in yesterday_dispatched_list">\r\n                                    <td> \r\n                                        <a href="{{ yesterday_dispatched.url }}" target="_blank"> {{ yesterday_dispatched.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody> \r\n                        </table>\r\n                    </th>                                   \r\n\r\n                    <th valign="top" style="background-color: #D4E6F1">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody> \r\n            <tr ng-repeat="this_week_dispatched in this_week_dispatched_list">\r\n                                    <td> \r\n                                        <a href="{{ this_week_dispatched.url }}" target="_blank"> {{ this_week_dispatched.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                    \r\n\r\n                    <th valign="top" style="background-color: #D7BDE2">\r\n                        <table rules="none"> \r\n                            \r\n                            <tbody> \r\n                <tr ng-repeat="this_month_dispatched in this_month_dispatched_list">\r\n                                    <td>\r\n                                        <a href="{{ this_month_dispatched.url }}" target="_blank"> {{ this_month_dispatched.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>\r\n                                        \r\n                </tr>\r\n            </tbody>     \r\n        </table>\r\n       \r\n    </div>  \r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</div>\r\n \r\n\r\n\r\n ';
},317:function(e,n){e.exports='<div id="transport_dashboard">\r\n    <top-bar>\r\n        <h2 class="top-bar__title">Caravans Production Status</h2>\r\n    </top-bar>\r\n\r\n    <messages>{{ order.messages }}</messages>\r\n</div>\r\n\r\n<div id="transport_dashboard_status">\r\n    \r\n    <div class="content">\r\n        <table style="table-layout:fixed">\r\n            <thead>\r\n                <tr>                    \r\n                    <th style="background-color: #f49e95">Chassis </th>                          \r\n                    <th style="background-color: #82c0ea">Building  </th>                       \r\n                    <th style="background-color: #c3c6c9">Pre-Wire  </th>                      \r\n                    <th style="background-color: #c3c6c9">Plumbing  </th>                      \r\n                    <th style="background-color: #76f4db">Aluminium / <br> Fit Off  </th> \r\n                    <th style="background-color: #d074f4">Finishing  </th>\r\n                    <th style="background-color: #ABB2B9">Detailing Canopy  </th>\r\n                    <th style="background-color: #A9CCE3">Water Testing  </th>                    \r\n                    <!-- <th style="background-color: #5ee796">QC  </th> -->\r\n                    <th style="background-color: #f9d959"> QC </th>\r\n                    <th style="background-color: #f2b47f">Ready For Dispatch</th>\r\n                    <th style="background-color: #7ac4f4">Dispatched Today  </th>\r\n                    <th style="background-color: #99abbd">Dispatched Yesterday  </th>\r\n                    <th style="background-color: #a4cfea">Dispatched <br> This Week  </th>\r\n                    <th style="background-color: #c884e5">Dispatched <br> This Month  </th>\r\n                    \r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>  \r\n                    <th style="background-color: #E6B0AA"> {{ (chassis_list | filter: { production_unit : 1 }).length }}  </th>\r\n\r\n                    <th style="background-color: #AED6F1"> {{ (building_list | filter: { production_unit : 1 }).length }}</th>                          \r\n                    <th style="background-color: #E5E7E9">{{ (prewire_list | filter: { production_unit : 1 }).length }}</th>\r\n\r\n                     <th style="background-color: #E5E7E9">{{ (plumbing_list | filter: { production_unit : 1 }).length }}</th>\r\n\r\n                    <th style="background-color: #A3E4D7"> {{ (aluminium_list | filter: { production_unit : 1 }).length }}</th>                          \r\n                    \r\n                    <th style="background-color: #D2B4DE"> {{ (finishing_list | filter: { production_unit : 1 }).length }} </th>\r\n\r\n                    <th style="background-color: #ABB2B9"> {{ (detailing_list | filter: { production_unit : 1 }).length }}  </th>\r\n\r\n                    <th style="background-color: #A9CCE3">  {{ (water_test_list | filter: { production_unit : 1 }).length }}</th>\r\n\r\n                    \r\n                    <th style="background-color: #F9E79F">{{ (final_qc_list | filter: { production_unit : 1 }).length }} </th>                          \r\n                    <th style="background-color: #F9E79F">{{ (actual_dispatch_list | filter: { production_unit : 1 }).length }} </th>                          \r\n                    <th style="background-color: #A9CCE3"> {{ (today_dispatched_list | filter: { production_unit : 1 }).length }} </th>                          \r\n                    <th style="background-color: #ABB2B9">{{ (yesterday_dispatched_list | filter: { production_unit : 1 }).length }} </th>                          \r\n                    <th style="background-color: #D4E6F1"> {{ (this_week_dispatched_list | filter: { production_unit : 1 }).length }} </th>                          \r\n                    <th style="background-color: #D7BDE2"> {{ (this_month_dispatched_list | filter: { production_unit : 1 }).length }} </th>\r\n                    \r\n                </tr>\r\n                <tr>\r\n                    <th valign="top" style="background-color: #E6B0AA">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody >\r\n                                <tr ng-repeat="chassis in chassis_list | filter: { production_unit : 1 }" >              \r\n                                    <td>\r\n                                        <a href="{{ chassis.url }}" target="_blank"> {{ chassis.chassis }} </a> \r\n                                     \r\n                                    </td>                          \r\n                                </tr>\r\n                            <tbody>\r\n                        </table>\r\n                    </th>  \r\n                \r\n                    <th valign="top" style="background-color: #AED6F1">\r\n                        <table rules="none"> \r\n                           \r\n                            <tbody>\r\n                                <tr ng-repeat="building in building_list | filter: { production_unit : 1 }">  \r\n                                    <td>\r\n                                        <a href="{{ building.url }}" target="_blank"> {{ building.chassis}} </a>\r\n                                      \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                    \r\n                    \r\n                    <th valign="top" style="background-color: #E5E7E9">\r\n                        <table rules="none"> \r\n                             \r\n                            <tbody>\r\n                                      \r\n                                <tr ng-repeat="prewire in prewire_list | filter: { production_unit : 1 }">                         \r\n                                    <td>\r\n                                        <a href="{{ prewire.url }}" target="_blank"> {{ prewire.chassis }} </a> \r\n                                       \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>\r\n\r\n                    <th valign="top" style="background-color: #E5E7E9">\r\n                        <table rules="none"> \r\n                             \r\n                            <tbody>\r\n                                      \r\n                                <tr ng-repeat="plumbing in plumbing_list | filter: { production_unit : 1 }">                         \r\n                                    <td>\r\n                                        <a href="{{ plumbing.url }}" target="_blank"> {{ plumbing.chassis }} </a> \r\n                                       \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                          \r\n\r\n                    <th valign="top" style="background-color: #A3E4D7">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody> \r\n                                <tr ng-repeat="aluminium in aluminium_list | filter: { production_unit : 1 }">                          \r\n                                    <td> \r\n                                        <a href="{{ aluminium.url }}" target="_blank"> {{ aluminium.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th> \r\n\r\n                    <th valign="top" style="background-color: #D2B4DE">\r\n                        <table rules="none">\r\n                         \r\n                        <tbody>\r\n                            <tr ng-repeat="finishing in finishing_list | filter: { production_unit : 1 }">                         \r\n                                <td>\r\n                                    <a href="{{ finishing.url }}" target="_blank"> {{ finishing.chassis }} </a> \r\n                                </td>\r\n                            </tr>\r\n                        </tbody> \r\n                        </table>\r\n                    </th>\r\n\r\n                     <th valign="top" style="background-color: #ABB2B9">\r\n                        <table rules="none">\r\n                         \r\n                        <tbody>\r\n                            <tr ng-repeat="detailing in detailing_list | filter: { production_unit : 1 }">                         \r\n                                <td>\r\n                                    <a href="{{ detailing.url }}" target="_blank"> {{ detailing.chassis }} </a> \r\n                                </td>\r\n                            </tr>\r\n                        </tbody> \r\n                        </table>\r\n                    </th>   \r\n\r\n\r\n                    <th valign="top" style="background-color: #A9CCE3">\r\n                        <table style="table-layout:fixed" >\r\n                        <col style="width:20%">\r\n                        <col style="width:80%">\r\n                        <tbody>\r\n                            <tr ng-repeat="water_test in water_test_list | filter: { production_unit : 1 }">                         \r\n                                <td>\r\n                                    <div> \r\n                                        <font face="Arial" color="Black"> <b>*</b>  </font>\r\n                                    </div> \r\n                                </td>\r\n                                <td>\r\n                                    <a href="{{ water_test.url }}" target="_blank"> {{ water_test.chassis }} </a> \r\n                                </td>\r\n                            </tr>\r\n                        </tbody> \r\n                        </table>\r\n                    </th>   \r\n                   \r\n\r\n                    <th valign="top" style="background-color: #F9E79F">\r\n                        <table style="table-layout:fixed" >\r\n                                <col style="width:20%">\r\n                                <col style="width:80%">\r\n                            <tbody>  \r\n                                <tr ng-repeat="final_qc in final_qc_list | filter: { production_unit : 1 }">                          \r\n                                    <td> \r\n                                        <div ng-if="final_qc.check_weights"> \r\n                                            <span style=\'font-size:14px;color:green\'>&#xbb;</span>   \r\n                                    </div> \r\n                                    <div ng-if="!final_qc.check_weights"> \r\n                                        <span style=\'font-size:14px;color:red\'>&#xbb;</span>   \r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                        <a href="{{ final_qc.url }}" target="_blank"> {{ final_qc.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                    \r\n \r\n                    <th  style="background-color: #F5CBA7;vertical-align: top">\r\n                        <table style="table-layout:fixed;" >\r\n                            <tbody> \r\n                                <!-- email_sent_green_list -->\r\n                            <tr ng-repeat="email_sent_green in email_sent_green_list | filter: { production_unit : 1 }" style="line-height: auto;">                          \r\n                                    <td style="line-height: auto">        \r\n                                    <div ng-if="email_sent_green.status_red">\r\n                                        \r\n\r\n                        <a href="{{ email_sent_green.url }}" style="color:#FF6347;"  target="_blank" >\r\n                                                     {{ email_sent_green.chassis }} </a>\r\n                                </div>\r\n                                </td>                                  \r\n                                 </tr>   \r\n\r\n                        <tr ng-repeat="email_sent_green in email_sent_green_list | filter: { production_unit : 1 }"  style="height: 10px;">\r\n                                    \r\n                                    <td style="line-height: auto">\r\n                                    <div ng-if="email_sent_green.status_green" style="line-height: auto"> \r\n                                                                  \r\n                        <a href="{{ email_sent_green.url }}" style="color:#32CD32;" target="_blank"> \r\n                                                                  {{ email_sent_green.chassis }}\r\n                                                              </a>\r\n                                 \r\n                                    </div>\r\n                                </td>\r\n                                </tr>\r\n                            <tr ng-repeat="email_sent_green in email_sent_green_list | filter: { production_unit : 1 }"  style="line-height: auto;">\r\n                            <td style="line-height: auto">\r\n                            <div ng-if="email_sent_green.status_grey" style="line-height: auto"> \r\n                                    \r\n                                  \r\n                        <a href="{{ email_sent_green.url }}" style="color:#000000;"  target="_blank"> \r\n                                                                  {{ email_sent_green.chassis }}\r\n                                                                   </a> \r\n                                    \r\n                                    </div>\r\n                                </td>\r\n                                </tr>\r\n                            </tbody>\r\n                                </table>\r\n\r\n                    </th>                    \r\n\r\n                    <th valign="top" style="background-color: #A9CCE3">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody> \r\n                        <tr ng-repeat="today_dispatched in today_dispatched_list | filter: { production_unit : 1 }">                       \r\n                                    <td> \r\n                                        <a href="{{ today_dispatched.url }}" target="_blank"> {{ today_dispatched.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                    \r\n\r\n                    <th valign="top" style="background-color: #ABB2B9">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody> \r\n                    <tr ng-repeat="yesterday_dispatched in yesterday_dispatched_list | filter: { production_unit : 1 }">\r\n                                    <td> \r\n                                        <a href="{{ yesterday_dispatched.url }}" target="_blank"> {{ yesterday_dispatched.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody> \r\n                        </table>\r\n                    </th>                                   \r\n\r\n                    <th valign="top" style="background-color: #D4E6F1">\r\n                        <table rules="none">\r\n                            \r\n                            <tbody> \r\n            <tr ng-repeat="this_week_dispatched in this_week_dispatched_list | filter: { production_unit : 1 }">\r\n                                    <td> \r\n                                        <a href="{{ this_week_dispatched.url }}" target="_blank"> {{ this_week_dispatched.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>                    \r\n\r\n                    <th valign="top" style="background-color: #D7BDE2">\r\n                        <table rules="none"> \r\n                            \r\n                            <tbody> \r\n                <tr ng-repeat="this_month_dispatched in this_month_dispatched_list | filter: { production_unit : 1 }">\r\n                                    <td>\r\n                                        <a href="{{ this_month_dispatched.url }}" target="_blank"> {{ this_month_dispatched.chassis }} </a> \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </th>\r\n                                        \r\n                </tr>\r\n            </tbody>     \r\n        </table>\r\n       \r\n    </div>  \r\n</div>\r\n\r\n\r\n \r\n\r\n\r\n</div>\r\n'}});